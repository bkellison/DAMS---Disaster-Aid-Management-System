import{d as e,u as t,r as a,w as n,o as l,a as s,c as r,b as i,e as o,f as u,F as d,g as c,h as p,i as v,R as m,j as h,k as f,t as y,l as g,n as b,m as _,p as w,q,T as k,s as A,v as C,x as R,y as S,z as E,A as D,B as O,C as I,D as U,E as T,G as N,H as P,I as M,J as x,K as L}from"./vendor-B-Hgi2MD.js";function V(e,t){return function(){return e.apply(t,arguments)}}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const{toString:F}=Object.prototype,{getPrototypeOf:j}=Object,B=(e=>t=>{const a=F.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),z=e=>(e=e.toLowerCase(),t=>B(t)===e),$=e=>t=>typeof t===e,{isArray:H}=Array,W=$("undefined");const K=z("ArrayBuffer");const J=$("string"),Q=$("function"),X=$("number"),Y=e=>null!==e&&"object"==typeof e,Z=e=>{if("object"!==B(e))return!1;const t=j(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},G=z("Date"),ee=z("File"),te=z("Blob"),ae=z("FileList"),ne=z("URLSearchParams"),[le,se,re,ie]=["ReadableStream","Request","Response","Headers"].map(z);function oe(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let n,l;if("object"!=typeof e&&(e=[e]),H(e))for(n=0,l=e.length;n<l;n++)t.call(null,e[n],n,e);else{const l=a?Object.getOwnPropertyNames(e):Object.keys(e),s=l.length;let r;for(n=0;n<s;n++)r=l[n],t.call(null,e[r],r,e)}}function ue(e,t){t=t.toLowerCase();const a=Object.keys(e);let n,l=a.length;for(;l-- >0;)if(n=a[l],t===n.toLowerCase())return n;return null}const de="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ce=e=>!W(e)&&e!==de;const pe=(e=>t=>e&&t instanceof e)("undefined"!=typeof Uint8Array&&j(Uint8Array)),ve=z("HTMLFormElement"),me=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),he=z("RegExp"),fe=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),n={};oe(a,((a,l)=>{let s;!1!==(s=t(a,l,e))&&(n[l]=s||a)})),Object.defineProperties(e,n)};const ye=z("AsyncFunction"),ge=(be="function"==typeof setImmediate,_e=Q(de.postMessage),be?setImmediate:_e?(we=`axios@${Math.random()}`,qe=[],de.addEventListener("message",(({source:e,data:t})=>{e===de&&t===we&&qe.length&&qe.shift()()}),!1),e=>{qe.push(e),de.postMessage(we,"*")}):e=>setTimeout(e));var be,_e,we,qe;const ke="undefined"!=typeof queueMicrotask?queueMicrotask.bind(de):"undefined"!=typeof process&&process.nextTick||ge,Ae={isArray:H,isArrayBuffer:K,isBuffer:function(e){return null!==e&&!W(e)&&null!==e.constructor&&!W(e.constructor)&&Q(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Q(e.append)&&("formdata"===(t=B(e))||"object"===t&&Q(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&K(e.buffer),t},isString:J,isNumber:X,isBoolean:e=>!0===e||!1===e,isObject:Y,isPlainObject:Z,isReadableStream:le,isRequest:se,isResponse:re,isHeaders:ie,isUndefined:W,isDate:G,isFile:ee,isBlob:te,isRegExp:he,isFunction:Q,isStream:e=>Y(e)&&Q(e.pipe),isURLSearchParams:ne,isTypedArray:pe,isFileList:ae,forEach:oe,merge:function e(){const{caseless:t}=ce(this)&&this||{},a={},n=(n,l)=>{const s=t&&ue(a,l)||l;Z(a[s])&&Z(n)?a[s]=e(a[s],n):Z(n)?a[s]=e({},n):H(n)?a[s]=n.slice():a[s]=n};for(let l=0,s=arguments.length;l<s;l++)arguments[l]&&oe(arguments[l],n);return a},extend:(e,t,a,{allOwnKeys:n}={})=>(oe(t,((t,n)=>{a&&Q(t)?e[n]=V(t,a):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,n)=>{let l,s,r;const i={};if(t=t||{},null==e)return t;do{for(l=Object.getOwnPropertyNames(e),s=l.length;s-- >0;)r=l[s],n&&!n(r,e,t)||i[r]||(t[r]=e[r],i[r]=!0);e=!1!==a&&j(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:B,kindOfTest:z,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const n=e.indexOf(t,a);return-1!==n&&n===a},toArray:e=>{if(!e)return null;if(H(e))return e;let t=e.length;if(!X(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=a.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const n=[];for(;null!==(a=e.exec(t));)n.push(a);return n},isHTMLForm:ve,hasOwnProperty:me,hasOwnProp:me,reduceDescriptors:fe,freezeMethods:e=>{fe(e,((t,a)=>{if(Q(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const n=e[a];Q(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},n=e=>{e.forEach((e=>{a[e]=!0}))};return H(e)?n(e):n(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:ue,global:de,isContextDefined:ce,isSpecCompliantForm:function(e){return!!(e&&Q(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),a=(e,n)=>{if(Y(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const l=H(e)?[]:{};return oe(e,((e,t)=>{const s=a(e,n+1);!W(s)&&(l[t]=s)})),t[n]=void 0,l}}return e};return a(e,0)},isAsyncFn:ye,isThenable:e=>e&&(Y(e)||Q(e))&&Q(e.then)&&Q(e.catch),setImmediate:ge,asap:ke};function Ce(e,t,a,n,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),n&&(this.request=n),l&&(this.response=l,this.status=l.status?l.status:null)}Ae.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const Re=Ce.prototype,Se={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Se[e]={value:e}})),Object.defineProperties(Ce,Se),Object.defineProperty(Re,"isAxiosError",{value:!0}),Ce.from=(e,t,a,n,l,s)=>{const r=Object.create(Re);return Ae.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ce.call(r,e.message,t,a,n,l),r.cause=e,r.name=e.name,s&&Object.assign(r,s),r};function Ee(e){return Ae.isPlainObject(e)||Ae.isArray(e)}function De(e){return Ae.endsWith(e,"[]")?e.slice(0,-2):e}function Oe(e,t,a){return e?e.concat(t).map((function(e,t){return e=De(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const Ie=Ae.toFlatObject(Ae,{},null,(function(e){return/^is[A-Z]/.test(e)}));function Ue(e,t,a){if(!Ae.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(a=Ae.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ae.isUndefined(t[e])}))).metaTokens,l=a.visitor||u,s=a.dots,r=a.indexes,i=(a.Blob||"undefined"!=typeof Blob&&Blob)&&Ae.isSpecCompliantForm(t);if(!Ae.isFunction(l))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Ae.isDate(e))return e.toISOString();if(!i&&Ae.isBlob(e))throw new Ce("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(e)||Ae.isTypedArray(e)?i&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,a,l){let i=e;if(e&&!l&&"object"==typeof e)if(Ae.endsWith(a,"{}"))a=n?a:a.slice(0,-2),e=JSON.stringify(e);else if(Ae.isArray(e)&&function(e){return Ae.isArray(e)&&!e.some(Ee)}(e)||(Ae.isFileList(e)||Ae.endsWith(a,"[]"))&&(i=Ae.toArray(e)))return a=De(a),i.forEach((function(e,n){!Ae.isUndefined(e)&&null!==e&&t.append(!0===r?Oe([a],n,s):null===r?a:a+"[]",o(e))})),!1;return!!Ee(e)||(t.append(Oe(l,a,s),o(e)),!1)}const d=[],c=Object.assign(Ie,{defaultVisitor:u,convertValue:o,isVisitable:Ee});if(!Ae.isObject(e))throw new TypeError("data must be an object");return function e(a,n){if(!Ae.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+n.join("."));d.push(a),Ae.forEach(a,(function(a,s){!0===(!(Ae.isUndefined(a)||null===a)&&l.call(t,a,Ae.isString(s)?s.trim():s,n,c))&&e(a,n?n.concat(s):[s])})),d.pop()}}(e),t}function Te(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ne(e,t){this._pairs=[],e&&Ue(e,this,t)}const Pe=Ne.prototype;function Me(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xe(e,t,a){if(!t)return e;const n=a&&a.encode||Me;Ae.isFunction(a)&&(a={serialize:a});const l=a&&a.serialize;let s;if(s=l?l(t,a):Ae.isURLSearchParams(t)?t.toString():new Ne(t,a).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}Pe.append=function(e,t){this._pairs.push([e,t])},Pe.toString=function(e){const t=e?function(t){return e.call(this,t,Te)}:Te;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class Le{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ae.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const Ve={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Ne,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},je="undefined"!=typeof window&&"undefined"!=typeof document,Be="object"==typeof navigator&&navigator||void 0,ze=je&&(!Be||["ReactNative","NativeScript","NS"].indexOf(Be.product)<0),$e="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,He=je&&window.location.href||"http://localhost",We={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:je,hasStandardBrowserEnv:ze,hasStandardBrowserWebWorkerEnv:$e,navigator:Be,origin:He},Symbol.toStringTag,{value:"Module"})),...Fe};function Ke(e){function t(e,a,n,l){let s=e[l++];if("__proto__"===s)return!0;const r=Number.isFinite(+s),i=l>=e.length;if(s=!s&&Ae.isArray(n)?n.length:s,i)return Ae.hasOwnProp(n,s)?n[s]=[n[s],a]:n[s]=a,!r;n[s]&&Ae.isObject(n[s])||(n[s]=[]);return t(e,a,n[s],l)&&Ae.isArray(n[s])&&(n[s]=function(e){const t={},a=Object.keys(e);let n;const l=a.length;let s;for(n=0;n<l;n++)s=a[n],t[s]=e[s];return t}(n[s])),!r}if(Ae.isFormData(e)&&Ae.isFunction(e.entries)){const a={};return Ae.forEachEntry(e,((e,n)=>{t(function(e){return Ae.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,a,0)})),a}return null}const Je={transitional:Ve,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",n=a.indexOf("application/json")>-1,l=Ae.isObject(e);l&&Ae.isHTMLForm(e)&&(e=new FormData(e));if(Ae.isFormData(e))return n?JSON.stringify(Ke(e)):e;if(Ae.isArrayBuffer(e)||Ae.isBuffer(e)||Ae.isStream(e)||Ae.isFile(e)||Ae.isBlob(e)||Ae.isReadableStream(e))return e;if(Ae.isArrayBufferView(e))return e.buffer;if(Ae.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ue(e,new We.classes.URLSearchParams,Object.assign({visitor:function(e,t,a,n){return We.isNode&&Ae.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=Ae.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ue(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return l||n?(t.setContentType("application/json",!1),function(e,t,a){if(Ae.isString(e))try{return(t||JSON.parse)(e),Ae.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(a||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Je.transitional,a=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Ae.isResponse(e)||Ae.isReadableStream(e))return e;if(e&&Ae.isString(e)&&(a&&!this.responseType||n)){const a=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(l){if(a){if("SyntaxError"===l.name)throw Ce.from(l,Ce.ERR_BAD_RESPONSE,this,null,this.response);throw l}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],(e=>{Je.headers[e]={}}));const Qe=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xe=Symbol("internals");function Ye(e){return e&&String(e).trim().toLowerCase()}function Ze(e){return!1===e||null==e?e:Ae.isArray(e)?e.map(Ze):String(e)}function Ge(e,t,a,n,l){return Ae.isFunction(n)?n.call(this,t,a):(l&&(t=a),Ae.isString(t)?Ae.isString(n)?-1!==t.indexOf(n):Ae.isRegExp(n)?n.test(t):void 0:void 0)}let et=class{constructor(e){e&&this.set(e)}set(e,t,a){const n=this;function l(e,t,a){const l=Ye(t);if(!l)throw new Error("header name must be a non-empty string");const s=Ae.findKey(n,l);(!s||void 0===n[s]||!0===a||void 0===a&&!1!==n[s])&&(n[s||t]=Ze(e))}const s=(e,t)=>Ae.forEach(e,((e,a)=>l(e,a,t)));if(Ae.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(Ae.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let a,n,l;return e&&e.split("\n").forEach((function(e){l=e.indexOf(":"),a=e.substring(0,l).trim().toLowerCase(),n=e.substring(l+1).trim(),!a||t[a]&&Qe[a]||("set-cookie"===a?t[a]?t[a].push(n):t[a]=[n]:t[a]=t[a]?t[a]+", "+n:n)})),t})(e),t);else if(Ae.isHeaders(e))for(const[r,i]of e.entries())l(i,r,a);else null!=e&&l(t,e,a);return this}get(e,t){if(e=Ye(e)){const a=Ae.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(e);)t[n[1]]=n[2];return t}(e);if(Ae.isFunction(t))return t.call(this,e,a);if(Ae.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ye(e)){const a=Ae.findKey(this,e);return!(!a||void 0===this[a]||t&&!Ge(0,this[a],a,t))}return!1}delete(e,t){const a=this;let n=!1;function l(e){if(e=Ye(e)){const l=Ae.findKey(a,e);!l||t&&!Ge(0,a[l],l,t)||(delete a[l],n=!0)}}return Ae.isArray(e)?e.forEach(l):l(e),n}clear(e){const t=Object.keys(this);let a=t.length,n=!1;for(;a--;){const l=t[a];e&&!Ge(0,this[l],l,e,!0)||(delete this[l],n=!0)}return n}normalize(e){const t=this,a={};return Ae.forEach(this,((n,l)=>{const s=Ae.findKey(a,l);if(s)return t[s]=Ze(n),void delete t[l];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(l):String(l).trim();r!==l&&delete t[l],t[r]=Ze(n),a[r]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ae.forEach(this,((a,n)=>{null!=a&&!1!==a&&(t[n]=e&&Ae.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach((e=>a.set(e))),a}static accessor(e){const t=(this[Xe]=this[Xe]={accessors:{}}).accessors,a=this.prototype;function n(e){const n=Ye(e);t[n]||(!function(e,t){const a=Ae.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+a,{value:function(e,a,l){return this[n].call(this,t,e,a,l)},configurable:!0})}))}(a,e),t[n]=!0)}return Ae.isArray(e)?e.forEach(n):n(e),this}};function tt(e,t){const a=this||Je,n=t||a,l=et.from(n.headers);let s=n.data;return Ae.forEach(e,(function(e){s=e.call(a,s,l.normalize(),t?t.status:void 0)})),l.normalize(),s}function at(e){return!(!e||!e.__CANCEL__)}function nt(e,t,a){Ce.call(this,null==e?"canceled":e,Ce.ERR_CANCELED,t,a),this.name="CanceledError"}function lt(e,t,a){const n=a.config.validateStatus;a.status&&n&&!n(a.status)?t(new Ce("Request failed with status code "+a.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ae.reduceDescriptors(et.prototype,(({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}})),Ae.freezeMethods(et),Ae.inherits(nt,Ce,{__CANCEL__:!0});const st=(e,t,a=3)=>{let n=0;const l=function(e,t){e=e||10;const a=new Array(e),n=new Array(e);let l,s=0,r=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),u=n[r];l||(l=o),a[s]=i,n[s]=o;let d=r,c=0;for(;d!==s;)c+=a[d++],d%=e;if(s=(s+1)%e,s===r&&(r=(r+1)%e),o-l<t)return;const p=u&&o-u;return p?Math.round(1e3*c/p):void 0}}(50,250);return function(e,t){let a,n,l=0,s=1e3/t;const r=(t,s=Date.now())=>{l=s,a=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),i=t-l;i>=s?r(e,t):(a=e,n||(n=setTimeout((()=>{n=null,r(a)}),s-i)))},()=>a&&r(a)]}((a=>{const s=a.loaded,r=a.lengthComputable?a.total:void 0,i=s-n,o=l(i);n=s;e({loaded:s,total:r,progress:r?s/r:void 0,bytes:i,rate:o||void 0,estimated:o&&r&&s<=r?(r-s)/o:void 0,event:a,lengthComputable:null!=r,[t?"download":"upload"]:!0})}),a)},rt=(e,t)=>{const a=null!=e;return[n=>t[0]({lengthComputable:a,total:e,loaded:n}),t[1]]},it=e=>(...t)=>Ae.asap((()=>e(...t))),ot=We.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,We.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,ut=We.hasStandardBrowserEnv?{write(e,t,a,n,l,s){const r=[e+"="+encodeURIComponent(t)];Ae.isNumber(a)&&r.push("expires="+new Date(a).toGMTString()),Ae.isString(n)&&r.push("path="+n),Ae.isString(l)&&r.push("domain="+l),!0===s&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function dt(e,t,a){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ct=e=>e instanceof et?{...e}:e;function pt(e,t){t=t||{};const a={};function n(e,t,a,n){return Ae.isPlainObject(e)&&Ae.isPlainObject(t)?Ae.merge.call({caseless:n},e,t):Ae.isPlainObject(t)?Ae.merge({},t):Ae.isArray(t)?t.slice():t}function l(e,t,a,l){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:n(void 0,e,0,l):n(e,t,0,l)}function s(e,t){if(!Ae.isUndefined(t))return n(void 0,t)}function r(e,t){return Ae.isUndefined(t)?Ae.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(a,l,s){return s in t?n(a,l):s in e?n(void 0,a):void 0}const o={url:s,method:s,data:s,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:i,headers:(e,t,a)=>l(ct(e),ct(t),0,!0)};return Ae.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=o[n]||l,r=s(e[n],t[n],n);Ae.isUndefined(r)&&s!==i||(a[n]=r)})),a}const vt=e=>{const t=pt({},e);let a,{data:n,withXSRFToken:l,xsrfHeaderName:s,xsrfCookieName:r,headers:i,auth:o}=t;if(t.headers=i=et.from(i),t.url=xe(dt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ae.isFormData(n))if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(We.hasStandardBrowserEnv&&(l&&Ae.isFunction(l)&&(l=l(t)),l||!1!==l&&ot(t.url))){const e=s&&r&&ut.read(r);e&&i.set(s,e)}return t},mt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const n=vt(e);let l=n.data;const s=et.from(n.headers).normalize();let r,i,o,u,d,{responseType:c,onUploadProgress:p,onDownloadProgress:v}=n;function m(){u&&u(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(r),n.signal&&n.signal.removeEventListener("abort",r)}let h=new XMLHttpRequest;function f(){if(!h)return;const n=et.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());lt((function(e){t(e),m()}),(function(e){a(e),m()}),{data:c&&"text"!==c&&"json"!==c?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h}),h=null}h.open(n.method.toUpperCase(),n.url,!0),h.timeout=n.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(a(new Ce("Request aborted",Ce.ECONNABORTED,e,h)),h=null)},h.onerror=function(){a(new Ce("Network Error",Ce.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const l=n.transitional||Ve;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),a(new Ce(t,l.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,h)),h=null},void 0===l&&s.setContentType(null),"setRequestHeader"in h&&Ae.forEach(s.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),Ae.isUndefined(n.withCredentials)||(h.withCredentials=!!n.withCredentials),c&&"json"!==c&&(h.responseType=n.responseType),v&&([o,d]=st(v,!0),h.addEventListener("progress",o)),p&&h.upload&&([i,u]=st(p),h.upload.addEventListener("progress",i),h.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(r=t=>{h&&(a(!t||t.type?new nt(null,e,h):t),h.abort(),h=null)},n.cancelToken&&n.cancelToken.subscribe(r),n.signal&&(n.signal.aborted?r():n.signal.addEventListener("abort",r)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===We.protocols.indexOf(y)?a(new Ce("Unsupported protocol "+y+":",Ce.ERR_BAD_REQUEST,e)):h.send(l||null)}))},ht=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,n=new AbortController;const l=function(e){if(!a){a=!0,r();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Ce?t:new nt(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,l(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))}),t);const r=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(l):e.removeEventListener("abort",l)})),e=null)};e.forEach((e=>e.addEventListener("abort",l)));const{signal:i}=n;return i.unsubscribe=()=>Ae.asap(r),i}},ft=function*(e,t){let a=e.byteLength;if(a<t)return void(yield e);let n,l=0;for(;l<a;)n=l+t,yield e.slice(l,n),l=n},yt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}},gt=(e,t,a,n)=>{const l=async function*(e,t){for await(const a of yt(e))yield*ft(a,t)}(e,t);let s,r=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await l.next();if(t)return i(),void e.close();let s=n.byteLength;if(a){let e=r+=s;a(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),l.return())},{highWaterMark:2})},bt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,_t=bt&&"function"==typeof ReadableStream,wt=bt&&("function"==typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),qt=(e,...t)=>{try{return!!e(...t)}catch(a){return!1}},kt=_t&&qt((()=>{let e=!1;const t=new Request(We.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),At=_t&&qt((()=>Ae.isReadableStream(new Response("").body))),Ct={stream:At&&(e=>e.body)};var Rt;bt&&(Rt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Ct[e]&&(Ct[e]=Ae.isFunction(Rt[e])?t=>t[e]():(t,a)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,a)})})));const St=async(e,t)=>{const a=Ae.toFiniteNumber(e.getContentLength());return null==a?(async e=>{if(null==e)return 0;if(Ae.isBlob(e))return e.size;if(Ae.isSpecCompliantForm(e)){const t=new Request(We.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ae.isArrayBufferView(e)||Ae.isArrayBuffer(e)?e.byteLength:(Ae.isURLSearchParams(e)&&(e+=""),Ae.isString(e)?(await wt(e)).byteLength:void 0)})(t):a},Et={http:null,xhr:mt,fetch:bt&&(async e=>{let{url:t,method:a,data:n,signal:l,cancelToken:s,timeout:r,onDownloadProgress:i,onUploadProgress:o,responseType:u,headers:d,withCredentials:c="same-origin",fetchOptions:p}=vt(e);u=u?(u+"").toLowerCase():"text";let v,m=ht([l,s&&s.toAbortSignal()],r);const h=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let f;try{if(o&&kt&&"get"!==a&&"head"!==a&&0!==(f=await St(d,n))){let e,a=new Request(t,{method:"POST",body:n,duplex:"half"});if(Ae.isFormData(n)&&(e=a.headers.get("content-type"))&&d.setContentType(e),a.body){const[e,t]=rt(f,st(it(o)));n=gt(a.body,65536,e,t)}}Ae.isString(c)||(c=c?"include":"omit");const l="credentials"in Request.prototype;v=new Request(t,{...p,signal:m,method:a.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:l?c:void 0});let s=await fetch(v);const r=At&&("stream"===u||"response"===u);if(At&&(i||r&&h)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=Ae.toFiniteNumber(s.headers.get("content-length")),[a,n]=i&&rt(t,st(it(i),!0))||[];s=new Response(gt(s.body,65536,a,(()=>{n&&n(),h&&h()})),e)}u=u||"text";let y=await Ct[Ae.findKey(Ct,u)||"text"](s,e);return!r&&h&&h(),await new Promise(((t,a)=>{lt(t,a,{data:y,headers:et.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:v})}))}catch(y){if(h&&h(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,e,v),{cause:y.cause||y});throw Ce.from(y,y&&y.code,e,v)}})};Ae.forEach(Et,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a){}Object.defineProperty(e,"adapterName",{value:t})}}));const Dt=e=>`- ${e}`,Ot=e=>Ae.isFunction(e)||null===e||!1===e,It=e=>{e=Ae.isArray(e)?e:[e];const{length:t}=e;let a,n;const l={};for(let s=0;s<t;s++){let t;if(a=e[s],n=a,!Ot(a)&&(n=Et[(t=String(a)).toLowerCase()],void 0===n))throw new Ce(`Unknown adapter '${t}'`);if(n)break;l[t||"#"+s]=n}if(!n){const e=Object.entries(l).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));throw new Ce("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(Dt).join("\n"):" "+Dt(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function Ut(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nt(null,e)}function Tt(e){Ut(e),e.headers=et.from(e.headers),e.data=tt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return It(e.adapter||Je.adapter)(e).then((function(t){return Ut(e),t.data=tt.call(e,e.transformResponse,t),t.headers=et.from(t.headers),t}),(function(t){return at(t)||(Ut(e),t&&t.response&&(t.response.data=tt.call(e,e.transformResponse,t.response),t.response.headers=et.from(t.response.headers))),Promise.reject(t)}))}const Nt="1.8.4",Pt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Pt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const Mt={};Pt.transitional=function(e,t,a){return(n,l,s)=>{if(!1===e)throw new Ce(function(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(a?". "+a:"")}(l," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!Mt[l]&&(Mt[l]=!0),!e||e(n,l,s)}},Pt.spelling=function(e){return(e,t)=>!0};const xt={assertOptions:function(e,t,a){if("object"!=typeof e)throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let l=n.length;for(;l-- >0;){const s=n[l],r=t[s];if(r){const t=e[s],a=void 0===t||r(t,s,e);if(!0!==a)throw new Ce("option "+s+" must be "+a,Ce.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}},validators:Pt},Lt=xt.validators;let Vt=class{constructor(e){this.defaults=e,this.interceptors={request:new Le,response:new Le}}async request(e,t){try{return await this._request(e,t)}catch(a){if(a instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{a.stack?t&&!String(a.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(a.stack+="\n"+t):a.stack=t}catch(n){}}throw a}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=pt(this.defaults,t);const{transitional:a,paramsSerializer:n,headers:l}=t;void 0!==a&&xt.assertOptions(a,{silentJSONParsing:Lt.transitional(Lt.boolean),forcedJSONParsing:Lt.transitional(Lt.boolean),clarifyTimeoutError:Lt.transitional(Lt.boolean)},!1),null!=n&&(Ae.isFunction(n)?t.paramsSerializer={serialize:n}:xt.assertOptions(n,{encode:Lt.function,serialize:Lt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xt.assertOptions(t,{baseUrl:Lt.spelling("baseURL"),withXsrfToken:Lt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=l&&Ae.merge(l.common,l[t.method]);l&&Ae.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete l[e]})),t.headers=et.concat(s,l);const r=[];let i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const o=[];let u;this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)}));let d,c=0;if(!i){const e=[Tt.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,o),d=e.length,u=Promise.resolve(t);c<d;)u=u.then(e[c++],e[c++]);return u}d=r.length;let p=t;for(c=0;c<d;){const e=r[c++],t=r[c++];try{p=e(p)}catch(v){t.call(this,v);break}}try{u=Tt.call(this,p)}catch(v){return Promise.reject(v)}for(c=0,d=o.length;c<d;)u=u.then(o[c++],o[c++]);return u}getUri(e){return xe(dt((e=pt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],(function(e){Vt.prototype[e]=function(t,a){return this.request(pt(a||{},{method:e,url:t,data:(a||{}).data}))}})),Ae.forEach(["post","put","patch"],(function(e){function t(t){return function(a,n,l){return this.request(pt(l||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:n}))}}Vt.prototype[e]=t(),Vt.prototype[e+"Form"]=t(!0)}));const Ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ft).forEach((([e,t])=>{Ft[t]=e}));const jt=function e(t){const a=new Vt(t),n=V(Vt.prototype.request,a);return Ae.extend(n,Vt.prototype,a,{allOwnKeys:!0}),Ae.extend(n,a,null,{allOwnKeys:!0}),n.create=function(a){return e(pt(t,a))},n}(Je);jt.Axios=Vt,jt.CanceledError=nt,jt.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{a.subscribe(e),t=e})).then(e);return n.cancel=function(){a.unsubscribe(t)},n},e((function(e,n,l){a.reason||(a.reason=new nt(e,n,l),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e((function(e){t=e})),cancel:t}}},jt.isCancel=at,jt.VERSION=Nt,jt.toFormData=Ue,jt.AxiosError=Ce,jt.Cancel=jt.CanceledError,jt.all=function(e){return Promise.all(e)},jt.spread=function(e){return function(t){return e.apply(null,t)}},jt.isAxiosError=function(e){return Ae.isObject(e)&&!0===e.isAxiosError},jt.mergeConfig=pt,jt.AxiosHeaders=et,jt.formToJSON=e=>Ke(Ae.isHTMLForm(e)?new FormData(e):e),jt.getAdapter=It,jt.HttpStatusCode=Ft,jt.default=jt;const{Axios:Bt,AxiosError:zt,CanceledError:$t,isCancel:Ht,CancelToken:Wt,VERSION:Kt,all:Jt,Cancel:Qt,isAxiosError:Xt,spread:Yt,toFormData:Zt,AxiosHeaders:Gt,HttpStatusCode:ea,formToJSON:ta,getAdapter:aa,mergeConfig:na}=jt,la=jt.create({baseURL:"http://127.0.0.1:5000",headers:{"Content-Type":"application/json"},withCredentials:!0});
/*! js-cookie v3.0.5 | MIT */
function sa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)e[n]=a[n]}return e}la.interceptors.request.use((e=>e),(e=>Promise.reject(e))),la.interceptors.response.use((e=>e),(e=>Promise.reject(e)));var ra=function e(t,a){function n(e,n,l){if("undefined"!=typeof document){"number"==typeof(l=sa({},a,l)).expires&&(l.expires=new Date(Date.now()+864e5*l.expires)),l.expires&&(l.expires=l.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var r in l)l[r]&&(s+="; "+r,!0!==l[r]&&(s+="="+l[r].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+s}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var a=document.cookie?document.cookie.split("; "):[],n={},l=0;l<a.length;l++){var s=a[l].split("="),r=s.slice(1).join("=");try{var i=decodeURIComponent(s[0]);if(n[i]=t.read(r,i),e===i)break}catch(o){}}return e?n[e]:n}},remove:function(e,t){n(e,"",sa({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,sa({},this.attributes,t))},withConverter:function(t){return e(sa({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const ia=e("auth",{state:()=>({userId:null,username:null,role:null,isAuthenticated:!1}),getters:{isAdmin:e=>"Admin"===e.role,isDonor:e=>"Donor"===e.role,isRecipient:e=>"Recipient"===e.role},actions:{setUserData(e){if(e&&e.user_id&&e.username&&e.role)try{this.userId=e.user_id,this.username=e.username,this.role=e.role,this.isAuthenticated=!0;const a={userId:e.user_id,username:e.username,role:e.role};ra.set("authUser",JSON.stringify(a),{expires:1/24});const n=ra.get("authUser");if(n)try{JSON.parse(n)}catch(t){}}catch(a){}},loadUserDataFromCookie(){const e=ra.get("authUser");if(e)try{const t=JSON.parse(e);if(!t.userId||!t.username||!t.role)return void this.logout();this.userId=t.userId,this.username=t.username,this.role=t.role,this.isAuthenticated=!0}catch(t){this.logout()}},logout(){this.userId=null,this.username=null,this.role=null,this.isAuthenticated=!1,ra.remove("authUser");ra.get("authUser")},async login(e,t){try{const a=await la.post("/login",{username:e,password:t});return 200===a.status&&a.data&&"object"==typeof a.data&&a.data.user_id&&a.data.username&&a.data.role&&this.setUserData(a.data),a}catch(a){throw a.response||a.request,a}},async requestAccount(e){try{return await la.post("/requestNewAccount",e)}catch(t){throw t.response,t}},async resetPassword(e){try{return await la.post("/resetForgottenPassword",e)}catch(t){throw t.response,t}}}}),oa=(e,t)=>{const a=e.__vccOpts||e;for(const[n,l]of t)a[n]=l;return a},ua={class:"app-nav"},da={class:"app-nav__links"},ca={class:"app-nav__dropdown"},pa={class:"dropdown-arrow"},va={key:0,class:"app-nav__dropdown-menu"},ma={class:"app-nav__dropdown"},ha={class:"dropdown-arrow"},fa={key:0,class:"app-nav__dropdown-menu"},ya={class:"app-nav__dropdown"},ga={class:"dropdown-arrow"},ba={key:0,class:"app-nav__dropdown-menu"},_a=oa({__name:"AppNavigation",setup(e){const g=ia(),b=t(),_=a(!1),w=a(!1),q=a(!1),k=()=>{_.value=!_.value,_.value&&(w.value=!1,q.value=!1)},A=()=>{w.value=!w.value,w.value&&(_.value=!1,q.value=!1)},C=()=>{q.value=!q.value,q.value&&(_.value=!1,w.value=!1)},R=e=>{e.target.closest(".app-nav__dropdown")||(_.value=!1,w.value=!1,q.value=!1)};return n((()=>b.currentRoute.value.path),(()=>{_.value=!1,w.value=!1,q.value=!1})),l((()=>{document.addEventListener("click",R)})),s((()=>{document.removeEventListener("click",R)})),(e,t)=>(i(),r("nav",ua,[o("div",da,[u(g).isAuthenticated?(i(),r(d,{key:1},[u(g).isAdmin?(i(),r(d,{key:0},[c(u(m),{to:"/admin","active-class":"active-link"},{default:p((()=>t[3]||(t[3]=[v("Admin Dashboard")]))),_:1}),o("div",ca,[o("a",{href:"#",onClick:f(k,["prevent"]),class:"app-nav__link"},[t[4]||(t[4]=v(" Events ")),o("span",pa,y(_.value?"▲":"▼"),1)]),_.value?(i(),r("div",va,[c(u(m),{to:"/admin/view-events","active-class":"active-link"},{default:p((()=>t[5]||(t[5]=[v("View Events")]))),_:1}),c(u(m),{to:"/admin/create-event","active-class":"active-link"},{default:p((()=>t[6]||(t[6]=[v("Create Event")]))),_:1})])):h("",!0)]),o("div",ma,[o("a",{href:"#",onClick:f(A,["prevent"]),class:"app-nav__link"},[t[7]||(t[7]=v(" Requests ")),o("span",ha,y(w.value?"▲":"▼"),1)]),w.value?(i(),r("div",fa,[c(u(m),{to:"/respond-to-requests","active-class":"active-link"},{default:p((()=>t[8]||(t[8]=[v("Manage Requests")]))),_:1}),c(u(m),{to:"/create-request","active-class":"active-link"},{default:p((()=>t[9]||(t[9]=[v("Create Request")]))),_:1})])):h("",!0)]),o("div",ya,[o("a",{href:"#",onClick:f(C,["prevent"]),class:"app-nav__link"},[t[10]||(t[10]=v(" Items & Matches ")),o("span",ga,y(q.value?"▲":"▼"),1)]),q.value?(i(),r("div",ba,[c(u(m),{to:"/admin/manage-items","active-class":"active-link"},{default:p((()=>t[11]||(t[11]=[v("Manage Donation Items")]))),_:1}),c(u(m),{to:"/match-view","active-class":"active-link"},{default:p((()=>t[12]||(t[12]=[v("View Matches")]))),_:1})])):h("",!0)])],64)):u(g).isDonor?(i(),r(d,{key:1},[c(u(m),{to:"/donor","active-class":"active-link"},{default:p((()=>t[13]||(t[13]=[v("Donor Dashboard")]))),_:1}),c(u(m),{to:"/pledge-view","active-class":"active-link"},{default:p((()=>t[14]||(t[14]=[v("My Pledges")]))),_:1}),c(u(m),{to:"/create-pledge","active-class":"active-link"},{default:p((()=>t[15]||(t[15]=[v("Create Pledge")]))),_:1}),c(u(m),{to:"/respond-to-requests","active-class":"active-link"},{default:p((()=>t[16]||(t[16]=[v("Respond to Requests")]))),_:1}),c(u(m),{to:"/match-view","active-class":"active-link"},{default:p((()=>t[17]||(t[17]=[v("My Matches")]))),_:1})],64)):u(g).isRecipient?(i(),r(d,{key:2},[c(u(m),{to:"/recipient","active-class":"active-link"},{default:p((()=>t[18]||(t[18]=[v("Recipient Dashboard")]))),_:1}),c(u(m),{to:"/request-view","active-class":"active-link"},{default:p((()=>t[19]||(t[19]=[v("My Requests")]))),_:1}),c(u(m),{to:"/create-request","active-class":"active-link"},{default:p((()=>t[20]||(t[20]=[v("Create Request")]))),_:1}),c(u(m),{to:"/match-view","active-class":"active-link"},{default:p((()=>t[21]||(t[21]=[v("My Matches")]))),_:1})],64)):h("",!0)],64)):(i(),r(d,{key:0},[c(u(m),{to:"/","active-class":"active-link"},{default:p((()=>t[0]||(t[0]=[v("Login")]))),_:1}),c(u(m),{to:"/register","active-class":"active-link"},{default:p((()=>t[1]||(t[1]=[v("Register")]))),_:1}),c(u(m),{to:"/reset-password","active-class":"active-link"},{default:p((()=>t[2]||(t[2]=[v("Reset Password")]))),_:1})],64))])]))}},[["__scopeId","data-v-6e8aed4d"]]),wa={class:"app-header"},qa={key:1,class:"app-header__user"},ka={class:"user-info"},Aa={key:2,class:"auth-links"},Ca={class:"app-footer"},Ra={class:"app-footer__content"},Sa={class:"app-footer__links"},Ea={class:"app-wrapper"},Da={class:"main-content"};const Oa=oa({name:"App",components:{AppHeader:oa({__name:"AppHeader",setup(e){const a=ia(),n=t(),l=()=>{a.logout(),n.push("/")};return(e,t)=>{var n;const s=_("RouterLink");return i(),r("header",wa,[t[3]||(t[3]=o("div",{class:"app-header__logo"},[o("h1",null,"Disaster Relief Portal")],-1)),u(a).isAuthenticated?(i(),g(_a,{key:0})):h("",!0),u(a).isAuthenticated?(i(),r("div",qa,[o("span",ka,y(u(a).username||"User"),1),o("span",{class:b(["role-badge",`role-badge--${null==(n=u(a).role)?void 0:n.toLowerCase()}`])},y(u(a).role),3),o("button",{class:"logout-button",onClick:l},"Logout")])):(i(),r("div",Aa,[c(s,{to:"/",class:"auth-link","active-class":"active-link"},{default:p((()=>t[0]||(t[0]=[v("Login")]))),_:1}),c(s,{to:"/register",class:"auth-link","active-class":"active-link"},{default:p((()=>t[1]||(t[1]=[v("Register")]))),_:1}),c(s,{to:"/reset-password",class:"auth-link","active-class":"active-link"},{default:p((()=>t[2]||(t[2]=[v("Reset Password")]))),_:1})]))])}}},[["__scopeId","data-v-e4af1863"]]),AppFooter:oa({__name:"AppFooter",setup(e){const t=w((()=>(new Date).getFullYear())),a=()=>{},n=()=>{},l=()=>{};return(e,s)=>(i(),r("footer",Ca,[o("div",Ra,[o("p",null,"© "+y(t.value)+" Disaster Relief Portal. All rights reserved.",1),o("div",Sa,[o("a",{href:"#",onClick:f(a,["prevent"])},"Privacy Policy"),o("a",{href:"#",onClick:f(n,["prevent"])},"Terms of Service"),o("a",{href:"#",onClick:f(l,["prevent"])},"Contact Us")])])]))}},[["__scopeId","data-v-db6f2f65"]])},setup(){const e=q(),t=ia(),a=w((()=>t.isAuthenticated||!["login","register","reset-password"].includes(e.name)));return l((()=>{t.loadUserDataFromCookie()})),{showFooter:a}}},[["render",function(e,t,a,n,l,s){const u=_("AppHeader"),d=_("router-view"),v=_("AppFooter");return i(),r("div",Ea,[c(u),o("main",Da,[c(d,null,{default:p((({Component:t})=>[c(k,{name:"fade",mode:"out-in"},{default:p((()=>[(i(),r("div",{key:e.$route.fullPath},[(i(),g(A(t)))]))])),_:2},1024)])),_:1})]),n.showFooter?(i(),g(v,{key:0})):h("",!0)])}]]),Ia={class:"app-input"},Ua=["for"],Ta={key:0,class:"app-input__required"},Na={class:"app-input__wrapper"},Pa=["id","type","value","placeholder","disabled","required"],Ma={key:1,class:"app-input__error"},xa={key:2,class:"app-input__hint"},La=oa({__name:"AppInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e;return w((()=>a.id||`input-${Math.random().toString(36).substring(2,9)}`)),(t,a)=>(i(),r("div",Ia,[e.label?(i(),r("label",{key:0,for:e.id,class:"app-input__label"},[v(y(e.label)+" ",1),e.required?(i(),r("span",Ta,"*")):h("",!0)],8,Ua)):h("",!0),o("div",Na,[o("input",{id:e.id,type:e.type,value:e.modelValue,placeholder:e.placeholder,disabled:e.disabled,required:e.required,class:"app-input__field",onInput:a[0]||(a[0]=e=>t.$emit("update:modelValue",e.target.value))},null,40,Pa)]),e.error?(i(),r("p",Ma,y(e.error),1)):h("",!0),e.hint?(i(),r("p",xa,y(e.hint),1)):h("",!0)]))}},[["__scopeId","data-v-01ece753"]]),Va=["disabled"],Fa={key:0,class:"spinner"},ja=oa({__name:"AppButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","danger","success","info","edit","add","save","cancel","auto-match"].includes(e)},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup:e=>(t,a)=>(i(),r("button",{class:b(["app-button",`app-button--${e.variant}`,{"app-button--loading":e.loading}]),disabled:e.loading||e.disabled,onClick:a[0]||(a[0]=e=>t.$emit("click",e))},[e.loading?(i(),r("span",Fa)):h("",!0),C(t.$slots,"default",{},void 0)],10,Va))},[["__scopeId","data-v-037ffb3d"]]),Ba={class:"app-alert__icon"},za={class:"app-alert__content"},$a={key:0,class:"app-alert__title"},Ha={class:"app-alert__message"},Wa=oa({__name:"AppAlert",props:{type:{type:String,default:"info",validator:e=>["info","success","warning","error"].includes(e)},title:{type:String,default:""},dismissible:{type:Boolean,default:!1},autoDismiss:{type:Number,default:0}},emits:["dismiss"],setup(e,{emit:t}){const n=e,l=t,s=a(!0),u=()=>{s.value=!1,l("dismiss")},d=w((()=>{switch(n.type){case"success":return"icon-check";case"warning":return"icon-warning";case"error":return"icon-error";default:return"icon-info"}}));return n.autoDismiss>0&&setTimeout((()=>{u()}),n.autoDismiss),(t,a)=>(i(),g(k,{name:"alert"},{default:p((()=>[s.value?(i(),r("div",{key:0,class:b(["app-alert",[`app-alert--${e.type}`]])},[o("div",Ba,[o("span",{class:b(["icon",d.value])},null,2)]),o("div",za,[e.title?(i(),r("strong",$a,y(e.title),1)):h("",!0),o("div",Ha,[C(t.$slots,"default",{},void 0,!0)])]),e.dismissible?(i(),r("button",{key:0,class:"app-alert__close",onClick:u}," × ")):h("",!0)],2)):h("",!0)])),_:3}))}},[["__scopeId","data-v-183f8c31"]]);function Ka(e={},t={}){const n=R({...e}),l=R({}),s=a(!0),r=a(!1),i=e=>{const a=t[e];if(!a)return!0;let s=!0;const r=[];for(const t of a){const a=t(n[e],n);!0!==a&&(s=!1,r.push(a))}return l[e]=r.length?r[0]:null,s},o=()=>{let e=!0;for(const a in t){const t=i(a);e=e&&t}return s.value=e,e};return{formValues:n,errors:l,isValid:s,isDirty:r,validate:o,validateField:i,reset:()=>{for(const t in e)n[t]=e[t];for(const e in l)l[e]=null;s.value=!0,r.value=!1},handleChange:(e,t)=>{n[e]=t,r.value=!0,i(e)},handleSubmit:e=>async t=>{null==t||t.preventDefault(),o()&&await e(n)}}}function Ja(){const e=a({show:!1,type:"info",title:"",message:"",timeout:null}),t=()=>{e.value.show=!1,e.value.timeout&&(clearTimeout(e.value.timeout),e.value.timeout=null)},n=w((()=>e.value.show));return{alert:e,showAlert:a=>{e.value.timeout&&clearTimeout(e.value.timeout),e.value={show:!0,type:a.type||"info",title:a.title||"",message:a.message||"",timeout:null},a.duration&&(e.value.timeout=setTimeout((()=>{t()}),a.duration))},closeAlert:t,isVisible:n}}function Qa(){const e=a(!1),t=a("Loading..."),n=(a="Loading...")=>{t.value=a,e.value=!0},l=()=>{e.value=!1};return{isLoading:e,loadingText:t,showLoading:n,hideLoading:l,withLoading:async(e,t="Loading...")=>{n(t);try{return await e()}finally{l()}}}}const Xa={class:"auth-container"},Ya={class:"auth-card"},Za={class:"form-check"},Ga={class:"auth-actions"},en={class:"auth-links"},tn=oa({__name:"Login",setup(e){const a=t(),n=ia(),{alert:s,showAlert:d,closeAlert:m}=Ja(),{isLoading:b,showLoading:w,hideLoading:q}=Qa(),k=localStorage.getItem("rememberedUsername")||"",{formValues:A,errors:C,handleChange:R,validate:D}=Ka({username:k,password:"",rememberMe:!!k},{username:[e=>!!e||"Username is required"],password:[e=>!!e||"Password is required",e=>(null==e?void 0:e.length)>=6||"Password must be at least 6 characters"]}),O=async()=>{if(D())try{w("Logging in...");const e=await fetch("http://127.0.0.1:5000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:A.username,password:A.password}),credentials:"include"});if(e.ok){const t=await e.json();A.rememberMe?localStorage.setItem("rememberedUsername",A.username):localStorage.removeItem("rememberedUsername"),n.setUserData(t),n.isAdmin?a.push("/admin"):n.isDonor?a.push("/donor"):n.isRecipient?a.push("/recipient"):a.push("/")}else{const t=await e.json();d({type:"error",title:"Login Failed",message:t.error||"Invalid credentials. Please try again.",duration:5e3})}}catch(e){d({type:"error",title:"Login Failed",message:"Connection error. Please try again later.",duration:5e3})}finally{q()}};return l((()=>{n.isAuthenticated&&(n.isAdmin?a.push("/admin"):n.isDonor?a.push("/donor"):n.isRecipient&&a.push("/recipient"))})),(e,t)=>{const a=_("RouterLink");return i(),r("div",Xa,[o("div",Ya,[t[12]||(t[12]=o("h1",{class:"auth-header"},"Login",-1)),t[13]||(t[13]=o("p",{class:"auth-description"},"Welcome back! Please enter your credentials.",-1)),o("form",{onSubmit:f(O,["prevent"])},[c(La,{modelValue:u(A).username,"onUpdate:modelValue":[t[0]||(t[0]=e=>u(A).username=e),t[1]||(t[1]=e=>u(R)("username",e))],label:"Username",placeholder:"Enter your username",required:"",error:u(C).username},null,8,["modelValue","error"]),c(La,{modelValue:u(A).password,"onUpdate:modelValue":[t[2]||(t[2]=e=>u(A).password=e),t[3]||(t[3]=e=>u(R)("password",e))],type:"password",label:"Password",placeholder:"Enter your password",required:"",error:u(C).password},null,8,["modelValue","error"]),o("div",Za,[S(o("input",{id:"remember-me",type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=e=>u(A).rememberMe=e),onChange:t[5]||(t[5]=e=>u(R)("rememberMe",e.target.checked))},null,544),[[E,u(A).rememberMe]]),t[6]||(t[6]=o("label",{for:"remember-me"},"Remember me",-1))]),o("div",Ga,[c(ja,{type:"submit",loading:u(b)},{default:p((()=>t[7]||(t[7]=[v("Login")]))),_:1},8,["loading"])]),u(s).show?(i(),g(Wa,{key:0,type:u(s).type,title:u(s).title,onDismiss:u(m)},{default:p((()=>[v(y(u(s).message),1)])),_:1},8,["type","title","onDismiss"])):h("",!0),o("div",en,[o("p",null,[t[9]||(t[9]=v("Don't have an account? ")),c(a,{to:"/register"},{default:p((()=>t[8]||(t[8]=[v("Register")]))),_:1})]),o("p",null,[t[11]||(t[11]=v("Forgot your password? ")),c(a,{to:"/reset-password"},{default:p((()=>t[10]||(t[10]=[v("Reset Password")]))),_:1})])])],32)])])}}},[["__scopeId","data-v-653d3628"]]),an={class:"app-select"},nn=["for"],ln={key:0,class:"app-select__required"},sn={class:"app-select__wrapper"},rn=["id","value","disabled","required"],on={key:0,value:"",disabled:""},un=["value","disabled"],dn={key:1,class:"app-select__error"},cn={key:2,class:"app-select__hint"},pn=oa({__name:"AppSelect",props:{modelValue:{type:[String,Number],default:""},options:{type:Array,default:()=>[],required:!0},label:{type:String,default:""},placeholder:{type:String,default:"Select an option"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:String,default:""},hint:{type:String,default:""},id:{type:String,default:null}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e;return w((()=>a.id||`select-${Math.random().toString(36).substring(2,9)}`)),(t,a)=>(i(),r("div",an,[e.label?(i(),r("label",{key:0,for:e.id,class:"app-select__label"},[v(y(e.label)+" ",1),e.required?(i(),r("span",ln,"*")):h("",!0)],8,nn)):h("",!0),o("div",sn,[o("select",{id:e.id,value:e.modelValue,disabled:e.disabled,required:e.required,class:"app-select__field",onChange:a[0]||(a[0]=e=>t.$emit("update:modelValue",e.target.value))},[e.placeholder?(i(),r("option",on,y(e.placeholder),1)):h("",!0),(i(!0),r(d,null,D(e.options,(e=>(i(),r("option",{key:e.value,value:e.value,disabled:e.disabled},y(e.label),9,un)))),128))],40,rn)]),e.error?(i(),r("p",dn,y(e.error),1)):h("",!0),e.hint?(i(),r("p",cn,y(e.hint),1)):h("",!0)]))}},[["__scopeId","data-v-9ff30c39"]]),vn={class:"auth-container"},mn={class:"auth-card"},hn={class:"auth-actions"},fn=oa({__name:"Register",setup(e){const a=t();ia();const{alert:n,showAlert:l,closeAlert:s}=Ja(),{isLoading:m,showLoading:b,hideLoading:_}=Qa(),q=[{value:"Recipient",label:"Recipient"},{value:"Donor",label:"Donor"},{value:"Admin",label:"Admin"}],k=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],A={username:[e=>!!e||"Username is required",e=>(null==e?void 0:e.length)>=3||"Username must be at least 3 characters"],email:[e=>!!e||"Email is required",e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Email must be valid"],password:[e=>!!e||"Password is required",e=>(null==e?void 0:e.length)>=6||"Password must be at least 6 characters"],role:[e=>!!e||"Role is required"],zipcode:[e=>!!e||"Zipcode is required",e=>/^\d{5}(-\d{4})?$/.test(e)||"Zipcode must be valid (XXXXX or XXXXX-XXXX)"]};w((()=>{const e={...A};return"Recipient"===C.role&&(e.addressline1=[e=>!!e||"Address Line 1 is required"],e.city=[e=>!!e||"City is required"],e.state=[e=>!!e||"State is required"]),e}));const{formValues:C,errors:R,handleChange:S,validate:E}=Ka({username:"",email:"",password:"",role:"Recipient",addressline1:"",addressline2:"",city:"",state:"",zipcode:""},A),D=async()=>{if("Recipient"===C.role){const e={addressline1:[e=>!!e||"Address Line 1 is required"],city:[e=>!!e||"City is required"],state:[e=>!!e||"State is required"]};for(const[t,a]of Object.entries(e))for(const e of a){const a=e(C[t]);if(!0!==a)return void(R[t]=a)}}if(E())try{b("Creating account...");const e={username:C.username,password:C.password,role:C.role,email:C.email,zipcode:C.zipcode};"Recipient"===C.role&&(e.addressline1=C.addressline1,e.addressline2=C.addressline2,e.city=C.city,e.state=C.state);const t=await fetch("http://127.0.0.1:5000/requestNewAccount",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(201===t.status)l({type:"success",title:"Registration Successful",message:"Your account request has been submitted. Please wait for approval before logging in.",duration:5e3}),setTimeout((()=>{a.push("/")}),3e3);else{const e=await t.json();l({type:"error",title:"Registration Failed",message:e.error||"An error occurred during registration. Please try again.",duration:5e3})}}catch(e){l({type:"error",title:"Registration Failed",message:"Connection error. Please try again later.",duration:5e3})}finally{_()}};return(e,t)=>(i(),r("div",vn,[o("div",mn,[t[19]||(t[19]=o("h1",{class:"auth-header"},"Register",-1)),t[20]||(t[20]=o("p",{class:"auth-description"},"Create your account by filling in the details below.",-1)),o("form",{onSubmit:f(D,["prevent"])},[c(La,{modelValue:u(C).email,"onUpdate:modelValue":[t[0]||(t[0]=e=>u(C).email=e),t[1]||(t[1]=e=>u(S)("email",e))],label:"Email",type:"email",placeholder:"Enter your email",required:"",error:u(R).email},null,8,["modelValue","error"]),c(La,{modelValue:u(C).username,"onUpdate:modelValue":[t[2]||(t[2]=e=>u(C).username=e),t[3]||(t[3]=e=>u(S)("username",e))],label:"Username",placeholder:"Choose a username",required:"",error:u(R).username},null,8,["modelValue","error"]),c(La,{modelValue:u(C).password,"onUpdate:modelValue":[t[4]||(t[4]=e=>u(C).password=e),t[5]||(t[5]=e=>u(S)("password",e))],type:"password",label:"Password",placeholder:"Create a password",required:"",error:u(R).password},null,8,["modelValue","error"]),c(pn,{modelValue:u(C).role,"onUpdate:modelValue":[t[6]||(t[6]=e=>u(C).role=e),t[7]||(t[7]=e=>u(S)("role",e))],label:"Role",options:q,required:"",error:u(R).role},null,8,["modelValue","error"]),"Recipient"===u(C).role?(i(),r(d,{key:0},[c(La,{modelValue:u(C).addressline1,"onUpdate:modelValue":[t[8]||(t[8]=e=>u(C).addressline1=e),t[9]||(t[9]=e=>u(S)("addressline1",e))],label:"Address Line 1",placeholder:"Enter your street address",required:"",error:u(R).addressline1},null,8,["modelValue","error"]),c(La,{modelValue:u(C).addressline2,"onUpdate:modelValue":[t[10]||(t[10]=e=>u(C).addressline2=e),t[11]||(t[11]=e=>u(S)("addressline2",e))],label:"Address Line 2 (Optional)",placeholder:"Apartment, suite, etc."},null,8,["modelValue"]),c(La,{modelValue:u(C).city,"onUpdate:modelValue":[t[12]||(t[12]=e=>u(C).city=e),t[13]||(t[13]=e=>u(S)("city",e))],label:"City",placeholder:"Enter city",required:"",error:u(R).city},null,8,["modelValue","error"]),c(pn,{modelValue:u(C).state,"onUpdate:modelValue":[t[14]||(t[14]=e=>u(C).state=e),t[15]||(t[15]=e=>u(S)("state",e))],label:"State",options:k,required:"",error:u(R).state},null,8,["modelValue","error"])],64)):h("",!0),c(La,{modelValue:u(C).zipcode,"onUpdate:modelValue":[t[16]||(t[16]=e=>u(C).zipcode=e),t[17]||(t[17]=e=>u(S)("zipcode",e))],label:"Zipcode",placeholder:"Enter zipcode",required:"",error:u(R).zipcode},null,8,["modelValue","error"]),o("div",hn,[c(ja,{type:"submit",loading:u(m)},{default:p((()=>t[18]||(t[18]=[v("Request Account")]))),_:1},8,["loading"])]),u(n).show?(i(),g(Wa,{key:1,type:u(n).type,title:u(n).title,onDismiss:u(s)},{default:p((()=>[v(y(u(n).message),1)])),_:1},8,["type","title","onDismiss"])):h("",!0)],32)])]))}},[["__scopeId","data-v-bc1ca4e7"]]),yn={class:"auth-container"},gn={class:"auth-card"},bn={class:"auth-actions"},_n={class:"auth-links"},wn=oa({__name:"ResetPassword",setup(e){const n=t(),{alert:l,showAlert:s,closeAlert:d}=Ja(),{isLoading:m,showLoading:b,hideLoading:w}=Qa(),q=a(""),k=a(""),A=a(""),C=a(""),R=a(""),S=a(""),E=async()=>{var e,t;if((()=>{let e=!0;return q.value.trim()?C.value="":(C.value="Username is required",e=!1),k.value?k.value.length<6?(R.value="Password must be at least 6 characters",e=!1):R.value="":(R.value="New password is required",e=!1),A.value?k.value!==A.value?(S.value="Passwords do not match",e=!1):S.value="":(S.value="Please confirm your password",e=!1),e})())try{b("Resetting password...");const e={username:q.value,new_password:k.value},t=await jt.post("http://127.0.0.1:5000/resetForgottenPassword",e);200===t.status?(s({type:"success",title:"Success",message:"Password reset successful! You can now log in with your new password.",duration:3e3}),setTimeout((()=>{n.push("/")}),3e3)):s({type:"error",title:"Reset Failed",message:t.data.error||"Failed to reset password. Please try again.",duration:5e3})}catch(a){s({type:"error",title:"Reset Failed",message:(null==(t=null==(e=a.response)?void 0:e.data)?void 0:t.error)||"An error occurred. Please try again later.",duration:5e3})}finally{w()}};return(e,t)=>{const a=_("RouterLink");return i(),r("div",yn,[o("div",gn,[t[6]||(t[6]=o("h1",{class:"auth-header"},"Reset Password",-1)),t[7]||(t[7]=o("p",{class:"auth-description"},"Please enter your username and new password below.",-1)),o("form",{onSubmit:f(E,["prevent"])},[c(La,{modelValue:q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>q.value=e),label:"Username",placeholder:"Enter your username",required:"",error:C.value},null,8,["modelValue","error"]),c(La,{modelValue:k.value,"onUpdate:modelValue":t[1]||(t[1]=e=>k.value=e),type:"password",label:"New Password",placeholder:"Create a new password",required:"",error:R.value},null,8,["modelValue","error"]),c(La,{modelValue:A.value,"onUpdate:modelValue":t[2]||(t[2]=e=>A.value=e),type:"password",label:"Confirm Password",placeholder:"Confirm your new password",required:"",error:S.value},null,8,["modelValue","error"]),o("div",bn,[c(ja,{type:"submit",loading:u(m)},{default:p((()=>t[3]||(t[3]=[v("Reset Password")]))),_:1},8,["loading"])]),u(l).show?(i(),g(Wa,{key:0,type:u(l).type,title:u(l).title,onDismiss:u(d)},{default:p((()=>[v(y(u(l).message),1)])),_:1},8,["type","title","onDismiss"])):h("",!0),o("div",_n,[o("p",null,[t[5]||(t[5]=v("Remember your password? ")),c(a,{to:"/"},{default:p((()=>t[4]||(t[4]=[v("Login")]))),_:1})])])],32)])])}}},[["__scopeId","data-v-bdc7ff5f"]]),qn={class:"admin-container"},kn=oa({__name:"AdminDashboard",setup(e){const a=t();ia();const n=()=>{a.push({path:"/admin/view-events",replace:!0})},l=()=>{a.push({path:"/respond-to-requests",replace:!0})},s=()=>{a.push({path:"/admin/manage-items",replace:!0})};return(e,t)=>(i(),r("div",qn,[o("div",{class:"content-box"},[t[6]||(t[6]=o("h1",{class:"admin-header"},"Admin Dashboard",-1)),t[7]||(t[7]=o("p",null,"Manage disaster relief operations from a central hub.",-1)),o("div",{class:"admin-boxes"},[o("div",{class:"admin-box"},[t[0]||(t[0]=o("h3",null,"Event Management",-1)),t[1]||(t[1]=o("p",null,"Create, view, and manage disaster events. Set up categories and locations for relief efforts.",-1)),o("button",{onClick:n},"Manage Events")]),o("div",{class:"admin-box"},[t[2]||(t[2]=o("h3",null,"Request Management",-1)),t[3]||(t[3]=o("p",null,"View recipient requests and manually match them with donor pledges. Create requests on behalf of recipients.",-1)),o("button",{onClick:l},"Manage Requests")]),o("div",{class:"admin-box"},[t[4]||(t[4]=o("h3",null,"Item Management",-1)),t[5]||(t[5]=o("p",null,"Add, edit, and remove items that can be pledged and requested in the system.",-1)),o("button",{onClick:s},"Manage Items")])])])]))}},[["__scopeId","data-v-0cb6499e"]]),An={class:"event-container"},Cn={class:"content-box"},Rn={class:"location-section"},Sn={class:"form-row"},En=["value"],Dn={class:"form-group"},On={class:"form-group"},In={class:"form-group"},Un=["value"],Tn={class:"auth-actions"},Nn={__name:"CreateEvent",setup(e){const n=t(),s=a({name:"",type:"",address:"",city:"",state:"",zipCode:"",startDate:"",endDate:"",categoryIds:[]}),u=a([]),m=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],h=async()=>{try{const e=`${s.value.address}, ${s.value.city}, ${s.value.state} ${s.value.zipCode}`,t={name:s.value.name,type:s.value.type,location:e,startDate:s.value.startDate,endDate:s.value.endDate,categoryIds:s.value.categoryIds.map((e=>parseInt(e))),address:s.value.address,city:s.value.city,state:s.value.state,zipCode:s.value.zipCode};await jt.post("/api/admin/events",t),alert("Event created successfully!"),n.push({path:"/admin/view-events"})}catch(e){alert("Error creating event: "+e.message)}};return l((async()=>{const e=await jt.get("/api/categories");u.value=e.data})),(e,t)=>(i(),r("div",An,[o("div",Cn,[t[17]||(t[17]=o("h2",{class:"event-header"},"Create Disaster Event",-1)),t[18]||(t[18]=o("p",{class:"description"},"Please fill in the details below to register a new disaster event.",-1)),o("form",{onSubmit:f(h,["prevent"])},[S(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value.name=e),placeholder:"Event Name (e.g., Earthquake Relief)",required:""},null,512),[[O,s.value.name]]),S(o("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.value.type=e),required:""},t[9]||(t[9]=[o("option",{disabled:"",value:""},"Select Disaster Type",-1),o("option",null,"Hurricane",-1),o("option",null,"Earthquake",-1),o("option",null,"Tornado",-1),o("option",null,"Flood",-1),o("option",null,"Wildfire",-1),o("option",null,"Winter Storm",-1),o("option",null,"Other",-1)]),512),[[I,s.value.type]]),o("div",Rn,[t[11]||(t[11]=o("h3",{class:"section-title"},"Event Location",-1)),S(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.value.address=e),placeholder:"Street Address (e.g., 123 Main St)",required:""},null,512),[[O,s.value.address]]),S(o("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.value.city=e),placeholder:"City (e.g., Los Angeles)",required:""},null,512),[[O,s.value.city]]),o("div",Sn,[S(o("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.value.state=e),required:"",class:"state-select"},[t[10]||(t[10]=o("option",{disabled:"",value:""},"Select State",-1)),(i(),r(d,null,D(m,(e=>o("option",{key:e.value,value:e.value},y(e.label),9,En))),64))],512),[[I,s.value.state]]),S(o("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>s.value.zipCode=e),placeholder:"ZIP Code",pattern:"[0-9]{5}(-[0-9]{4})?",title:"Please enter a valid ZIP code (e.g., 12345 or 12345-6789)",required:""},null,512),[[O,s.value.zipCode]])])]),o("div",Dn,[t[12]||(t[12]=o("label",{class:"field-label"},"Start Date:",-1)),S(o("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=e=>s.value.startDate=e),required:""},null,512),[[O,s.value.startDate]])]),o("div",On,[t[13]||(t[13]=o("label",{class:"field-label"},"End Date:",-1)),S(o("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=e=>s.value.endDate=e),required:""},null,512),[[O,s.value.endDate]])]),o("div",In,[t[14]||(t[14]=o("label",{class:"field-label"},"Select Categories:",-1)),S(o("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>s.value.categoryIds=e),multiple:""},[(i(!0),r(d,null,D(u.value,(e=>(i(),r("option",{key:e.category_id,value:e.category_id},y(e.category_name),9,Un)))),128))],512),[[I,s.value.categoryIds]]),t[15]||(t[15]=o("p",{class:"help-text"},"Hold Ctrl/Cmd to select multiple categories",-1))]),o("div",Tn,[c(ja,{type:"submit",variant:"primary"},{default:p((()=>t[16]||(t[16]=[v("Create Event")]))),_:1})])],32)])]))}},Pn=oa(Nn,[["__scopeId","data-v-39ff1282"]]),Mn={class:"manage-container"},xn={class:"content-box"},Ln={class:"tabs"},Vn={key:0,class:"tab-content"},Fn={class:"form-group"},jn=["value"],Bn={class:"form-group"},zn={class:"form-group"},$n={class:"form-group"},Hn={class:"button-row"},Wn={key:0,class:"loading"},Kn={key:1,class:"no-items"},Jn={key:2,class:"item-list"},Qn={key:0,class:"item-description"},Xn={class:"item-buttons"},Yn={key:1,class:"tab-content"},Zn={key:0,class:"loading"},Gn={key:1,class:"no-items"},el={key:2,class:"availability-table"},tl={class:"highlight"},al={class:"totals-summary"},nl={class:"action-buttons"},ll={__name:"ManageItems",setup(e){const n=t(),s=a("add"),u=a({name:"",category_id:"",description:"",quantity:1,created_by:4}),m=a([]),_=a([]),q=a(!1),k=a(null),A=a(!1),C=a(null),R=a([]),E=w((()=>R.value&&0!==R.value.length?R.value.reduce(((e,t)=>e+Number(t.available_combined)),0):0)),U=a(!1),T=async()=>{A.value=!0,C.value=null;try{const e=await jt.get("http://127.0.0.1:5000/api/admin/items");m.value=e.data}catch(e){C.value="Failed to load items. Please try again."}finally{A.value=!1}},N=async()=>{U.value=!0;try{const e=await jt.get("http://127.0.0.1:5000/getItemAvailability");R.value=e.data.filter((e=>e.base_quantity>0||e.available_pledged>0))}catch(e){alert("Failed to load item availability data. Please try again.")}finally{U.value=!1}},P=()=>{N()},M=()=>{n.push("/respond-to-requests")},x=e=>{const t=_.value.find((t=>t.category_id===e));return t?t.category_name:"Unknown Category"},L=async()=>{try{if(q.value){await jt.put(`http://127.0.0.1:5000/api/admin/items/${k.value}`,u.value);const e=m.value.findIndex((e=>e.id===k.value));-1!==e&&(m.value[e]={...m.value[e],...u.value,id:k.value}),q.value=!1,k.value=null}else{const e=await jt.post("http://127.0.0.1:5000/api/admin/items",u.value);e.data.item?m.value.push({id:e.data.item.id,...u.value}):await T()}"view"===s.value&&N(),F()}catch(e){alert("Failed to save item. Please try again.")}},V=()=>{q.value=!1,k.value=null,F()},F=()=>{u.value={name:"",description:"",category_id:"",quantity:1,created_by:4}};return l((()=>{T(),(async()=>{try{const e=await jt.get("http://127.0.0.1:5000/getCategories");_.value=e.data}catch(e){C.value="Failed to load categories. Please try again."}})(),N()})),(e,t)=>(i(),r("div",Mn,[o("div",xn,[t[23]||(t[23]=o("h2",{class:"manage-header"},"Manage Donation Items",-1)),t[24]||(t[24]=o("p",{class:"description"}," Add or edit donation items and view available quantities for matching. ",-1)),o("div",Ln,[o("button",{class:b(["tab-button",{active:"add"===s.value}]),onClick:t[0]||(t[0]=e=>s.value="add")}," Add/Edit Items ",2),o("button",{class:b(["tab-button",{active:"view"===s.value}]),onClick:t[1]||(t[1]=e=>s.value="view")}," View Available Items ",2)]),"add"===s.value?(i(),r("div",Vn,[o("form",{onSubmit:f(L,["prevent"])},[o("div",Fn,[t[7]||(t[7]=o("label",{for:"category"},"Category:",-1)),S(o("select",{id:"category","onUpdate:modelValue":t[2]||(t[2]=e=>u.value.category_id=e),required:""},[t[6]||(t[6]=o("option",{disabled:"",value:""},"Select Category",-1)),(i(!0),r(d,null,D(_.value,(e=>(i(),r("option",{key:e.category_id,value:e.category_id},y(e.category_name),9,jn)))),128))],512),[[I,u.value.category_id]])]),o("div",Bn,[t[8]||(t[8]=o("label",{for:"name"},"Item Name:",-1)),S(o("input",{id:"name","onUpdate:modelValue":t[3]||(t[3]=e=>u.value.name=e),placeholder:"Item Name",required:""},null,512),[[O,u.value.name]])]),o("div",zn,[t[9]||(t[9]=o("label",{for:"description"},"Description (optional):",-1)),S(o("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=e=>u.value.description=e),placeholder:"Description"},null,512),[[O,u.value.description]])]),o("div",$n,[t[10]||(t[10]=o("label",{for:"quantity"},"Default Quantity:",-1)),S(o("input",{id:"quantity",type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>u.value.quantity=e),placeholder:"Default Quantity",min:"1",required:""},null,512),[[O,u.value.quantity,void 0,{number:!0}]]),t[11]||(t[11]=o("div",{class:"help-text"},"This is the default quantity for new pledges of this item type.",-1))]),o("div",Hn,[c(ja,{type:"submit",variant:q.value?"save":"add"},{default:p((()=>[v(y(q.value?"Update Item":"Add Item"),1)])),_:1},8,["variant"]),q.value?(i(),g(ja,{key:0,type:"button",variant:"cancel",onClick:V},{default:p((()=>t[12]||(t[12]=[v("Cancel")]))),_:1})):h("",!0)])],32),t[16]||(t[16]=o("hr",{class:"divider"},null,-1)),A.value?(i(),r("div",Wn,t[13]||(t[13]=[o("span",{class:"spinner"},null,-1),v(" Loading items... ")]))):0===m.value.length?(i(),r("div",Kn,"No items defined yet.")):(i(),r("ul",Jn,[(i(!0),r(d,null,D(m.value,(e=>(i(),r("li",{key:e.id,class:"item-entry"},[o("div",null,[o("strong",null,y(e.name),1),v(" ("+y(x(e.category_id))+") ",1),e.description?(i(),r("div",Qn,y(e.description),1)):h("",!0)]),o("div",Xn,[c(ja,{variant:"edit",onClick:t=>(e=>{q.value=!0,k.value=e.id,u.value={name:e.name,description:e.description||"",category_id:e.category_id,quantity:e.quantity||1,created_by:e.created_by},window.scrollTo({top:0,behavior:"smooth"})})(e)},{default:p((()=>t[14]||(t[14]=[v("Edit")]))),_:2},1032,["onClick"]),c(ja,{variant:"danger",onClick:t=>(async e=>{var t,a;if(confirm("Are you sure you want to delete this item?"))try{await jt.delete(`http://127.0.0.1:5000/api/admin/items/${e}`),m.value=m.value.filter((t=>t.id!==e)),"view"===s.value&&N()}catch(n){alert("Failed to delete item: "+((null==(a=null==(t=n.response)?void 0:t.data)?void 0:a.error)||n.message))}})(e.id)},{default:p((()=>t[15]||(t[15]=[v("Delete")]))),_:2},1032,["onClick"])])])))),128))]))])):h("",!0),"view"===s.value?(i(),r("div",Yn,[t[22]||(t[22]=o("div",{class:"explanation-box"},[o("h4",null,"Understanding Item Availability"),o("p",null,"This view shows all items that are currently available for matching with requests, including both base quantities (added by admin) and donor pledges.")],-1)),U.value?(i(),r("div",Zn,t[17]||(t[17]=[o("span",{class:"spinner"},null,-1),v(" Loading availability data... ")]))):R.value&&0!==R.value.length?(i(),r("table",el,[t[18]||(t[18]=o("thead",null,[o("tr",null,[o("th",null,"Item"),o("th",null,"Category"),o("th",null,"Admin Quantity"),o("th",null,"Pledged Quantity"),o("th",null,"Total Available"),o("th",null,"Already Matched")])],-1)),o("tbody",null,[(i(!0),r(d,null,D(R.value,(e=>(i(),r("tr",{key:e.id},[o("td",null,y(e.name),1),o("td",null,y(e.category_name),1),o("td",null,y(e.base_quantity),1),o("td",null,y(e.available_pledged),1),o("td",tl,y(e.available_combined),1),o("td",null,y(e.total_pledged-e.available_pledged),1)])))),128))])])):(i(),r("div",Gn," No items are currently available for matching. ")),o("div",al,[o("h4",null,"Total Available Items: "+y(E.value),1),t[19]||(t[19]=o("p",null,"These items are ready to be matched with recipient requests.",-1))]),o("div",nl,[c(ja,{onClick:P},{default:p((()=>t[20]||(t[20]=[v("Refresh Data")]))),_:1}),c(ja,{onClick:M,variant:"primary"},{default:p((()=>t[21]||(t[21]=[v("Match Items to Requests")]))),_:1})])])):h("",!0)])]))}},sl=oa(ll,[["__scopeId","data-v-d4b1c260"]]),rl={class:"event-view-container"},il={class:"content-box"},ol={key:0,class:"no-events"},ul={class:"event-list"},dl={class:"event-title"},cl={class:"button-group"},pl={class:"modal"},vl={class:"form-group"},ml={class:"location-section"},hl={class:"form-group"},fl={class:"form-group"},yl={class:"form-row"},gl={class:"form-group"},bl=["value"],_l={class:"form-group"},wl={class:"form-group date-group"},ql={class:"form-group"},kl=["value"],Al={class:"modal-buttons"},Cl={__name:"ViewEvents",setup(e){const t=a([]),n=a([]),s=a(null),u=[{value:"AL",label:"Alabama"},{value:"AK",label:"Alaska"},{value:"AZ",label:"Arizona"},{value:"AR",label:"Arkansas"},{value:"CA",label:"California"},{value:"CO",label:"Colorado"},{value:"CT",label:"Connecticut"},{value:"DE",label:"Delaware"},{value:"FL",label:"Florida"},{value:"GA",label:"Georgia"},{value:"HI",label:"Hawaii"},{value:"ID",label:"Idaho"},{value:"IL",label:"Illinois"},{value:"IN",label:"Indiana"},{value:"IA",label:"Iowa"},{value:"KS",label:"Kansas"},{value:"KY",label:"Kentucky"},{value:"LA",label:"Louisiana"},{value:"ME",label:"Maine"},{value:"MD",label:"Maryland"},{value:"MA",label:"Massachusetts"},{value:"MI",label:"Michigan"},{value:"MN",label:"Minnesota"},{value:"MS",label:"Mississippi"},{value:"MO",label:"Missouri"},{value:"MT",label:"Montana"},{value:"NE",label:"Nebraska"},{value:"NV",label:"Nevada"},{value:"NH",label:"New Hampshire"},{value:"NJ",label:"New Jersey"},{value:"NM",label:"New Mexico"},{value:"NY",label:"New York"},{value:"NC",label:"North Carolina"},{value:"ND",label:"North Dakota"},{value:"OH",label:"Ohio"},{value:"OK",label:"Oklahoma"},{value:"OR",label:"Oregon"},{value:"PA",label:"Pennsylvania"},{value:"RI",label:"Rhode Island"},{value:"SC",label:"South Carolina"},{value:"SD",label:"South Dakota"},{value:"TN",label:"Tennessee"},{value:"TX",label:"Texas"},{value:"UT",label:"Utah"},{value:"VT",label:"Vermont"},{value:"VA",label:"Virginia"},{value:"WA",label:"Washington"},{value:"WV",label:"West Virginia"},{value:"WI",label:"Wisconsin"},{value:"WY",label:"Wyoming"}],m=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})},g=()=>{s.value=null},b=async()=>{try{const e=await jt.get("/api/admin/events");t.value=e.data}catch(e){}},_=async()=>{try{const e=`${s.value.address}, ${s.value.city}, ${s.value.state} ${s.value.zipCode}`,t={...s.value,location:e};await jt.put(`/api/admin/events/${s.value.event_id}`,t),await b(),s.value=null,alert("Event updated successfully!")}catch(e){alert("Update failed: "+e.message)}},w=e=>{"Escape"===e.key&&s.value&&g()};return U((()=>{document.removeEventListener("keydown",w)})),l((()=>{b(),(async()=>{try{const e=await jt.get("/api/categories");n.value=e.data}catch(e){}})(),document.addEventListener("keydown",w)})),(e,a)=>(i(),r(d,null,[o("div",rl,[o("div",il,[a[15]||(a[15]=o("h2",{class:"event-header"},"All Disaster Events",-1)),a[16]||(a[16]=o("p",{class:"description"},"Browse the list of all created disaster events below.",-1)),0===t.value.length?(i(),r("div",ol,"No events found.")):h("",!0),o("ul",ul,[(i(!0),r(d,null,D(t.value,(e=>(i(),r("li",{key:e.event_id,class:"event-card"},[o("h3",dl,y(e.name),1),o("p",null,[a[8]||(a[8]=o("strong",null,"Categories:",-1)),v(" "+y(e.categories.join(", ")),1)]),o("p",null,[a[9]||(a[9]=o("strong",null,"Location:",-1)),v(" "+y(e.location),1)]),o("p",null,[a[10]||(a[10]=o("strong",null,"Start:",-1)),v(" "+y(m(e.start_date))+" | ",1),a[11]||(a[11]=o("strong",null,"End:",-1)),v(" "+y(m(e.end_date)),1)]),o("p",null,[a[12]||(a[12]=o("strong",null,"Status:",-1)),v(" "+y(e.is_active?"Active":"Inactive"),1)]),o("div",cl,[c(ja,{variant:"edit",onClick:t=>(async e=>{try{const t=(await jt.get(`/api/admin/events/${e.event_id}/categories`)).data.map((e=>e.category_id)),a=(e=>{if(!e)return{address:"",city:"",state:"",zipCode:""};const t=e.split(", ");if(t.length>=3){const e=t[0],a=t[1],n=t[2].match(/^([A-Z]{2})\s+(.+)$/);if(n)return{address:e,city:a,state:n[1],zipCode:n[2]}}return{address:e,city:"",state:"",zipCode:""}})(e.location);s.value={...e,categoryIds:t,...a}}catch(t){alert("Could not load event categories")}})(e)},{default:p((()=>a[13]||(a[13]=[v("Edit")]))),_:2},1032,["onClick"]),c(ja,{variant:"danger",onClick:t=>(async e=>{if(confirm("Are you sure you want to delete this event?"))try{await jt.delete(`/api/admin/events/${e}`),await b()}catch(t){alert("Failed to delete event: "+t.message)}})(e.event_id)},{default:p((()=>a[14]||(a[14]=[v("Delete")]))),_:2},1032,["onClick"])])])))),128))])])]),s.value?(i(),r("div",{key:0,class:"modal-overlay",onClick:f(g,["self"])},[o("div",pl,[a[30]||(a[30]=o("h3",null,"Edit Event",-1)),o("form",{onSubmit:f(_,["prevent"])},[o("div",vl,[a[17]||(a[17]=o("label",{for:"event-name"},"Event Name:",-1)),S(o("input",{id:"event-name","onUpdate:modelValue":a[0]||(a[0]=e=>s.value.name=e),placeholder:"Event Name",required:""},null,512),[[O,s.value.name]])]),o("div",ml,[a[23]||(a[23]=o("h4",{class:"section-title"},"Event Location",-1)),o("div",hl,[a[18]||(a[18]=o("label",{for:"event-address"},"Street Address:",-1)),S(o("input",{id:"event-address","onUpdate:modelValue":a[1]||(a[1]=e=>s.value.address=e),placeholder:"Street Address",required:""},null,512),[[O,s.value.address]])]),o("div",fl,[a[19]||(a[19]=o("label",{for:"event-city"},"City:",-1)),S(o("input",{id:"event-city","onUpdate:modelValue":a[2]||(a[2]=e=>s.value.city=e),placeholder:"City",required:""},null,512),[[O,s.value.city]])]),o("div",yl,[o("div",gl,[a[21]||(a[21]=o("label",{for:"event-state"},"State:",-1)),S(o("select",{id:"event-state","onUpdate:modelValue":a[3]||(a[3]=e=>s.value.state=e),required:""},[a[20]||(a[20]=o("option",{disabled:"",value:""},"Select State",-1)),(i(),r(d,null,D(u,(e=>o("option",{key:e.value,value:e.value},y(e.label),9,bl))),64))],512),[[I,s.value.state]])]),o("div",_l,[a[22]||(a[22]=o("label",{for:"event-zip"},"ZIP Code:",-1)),S(o("input",{id:"event-zip","onUpdate:modelValue":a[4]||(a[4]=e=>s.value.zipCode=e),placeholder:"ZIP Code",required:""},null,512),[[O,s.value.zipCode]])])])]),o("div",wl,[o("div",null,[a[24]||(a[24]=o("label",{for:"start-date"},"Start Date:",-1)),S(o("input",{id:"start-date",type:"date","onUpdate:modelValue":a[5]||(a[5]=e=>s.value.start_date=e),required:""},null,512),[[O,s.value.start_date]])]),o("div",null,[a[25]||(a[25]=o("label",{for:"end-date"},"End Date:",-1)),S(o("input",{id:"end-date",type:"date","onUpdate:modelValue":a[6]||(a[6]=e=>s.value.end_date=e),required:""},null,512),[[O,s.value.end_date]])])]),o("div",ql,[a[26]||(a[26]=o("label",null,"Categories:",-1)),S(o("select",{"onUpdate:modelValue":a[7]||(a[7]=e=>s.value.categoryIds=e),multiple:""},[(i(!0),r(d,null,D(n.value,(e=>(i(),r("option",{key:e.category_id,value:e.category_id},y(e.category_name),9,kl)))),128))],512),[[I,s.value.categoryIds]]),a[27]||(a[27]=o("p",{class:"help-text"},"Hold Ctrl/Cmd to select multiple categories",-1))]),o("div",Al,[c(ja,{type:"submit",variant:"save"},{default:p((()=>a[28]||(a[28]=[v("Save")]))),_:1}),c(ja,{type:"button",variant:"cancel",onClick:g},{default:p((()=>a[29]||(a[29]=[v("Cancel")]))),_:1})])],32)])])):h("",!0)],64))}},Rl=oa(Cl,[["__scopeId","data-v-923623e1"]]),Sl={class:"donor-container"},El={class:"content-box"},Dl={class:"donor-boxes"},Ol={class:"donor-box"},Il={class:"donor-box"},Ul={class:"donor-box"},Tl=oa({__name:"DonorDashboard",setup(e){const a=t();ia();const n=()=>{a.push("/pledge-view")},l=()=>{a.push("/respond-to-requests")},s=()=>{a.push("/match-view")};return(e,t)=>(i(),r("div",Sl,[o("div",El,[t[9]||(t[9]=o("h1",{class:"donor-header"},"Donor Dashboard",-1)),t[10]||(t[10]=o("p",null,"Manage your donations and fulfill requests from recipients.",-1)),o("div",Dl,[o("div",Ol,[t[1]||(t[1]=o("h3",null,"Pledges",-1)),t[2]||(t[2]=o("p",null,"Create and manage your donation pledges to help those in need",-1)),c(ja,{variant:"primary",onClick:n},{default:p((()=>t[0]||(t[0]=[v("Manage Pledges")]))),_:1})]),o("div",Il,[t[4]||(t[4]=o("h3",null,"Requests",-1)),t[5]||(t[5]=o("p",null,"View and respond to requests for help from recipients",-1)),c(ja,{variant:"primary",onClick:l},{default:p((()=>t[3]||(t[3]=[v("View Requests")]))),_:1})]),o("div",Ul,[t[7]||(t[7]=o("h3",null,"Matches",-1)),t[8]||(t[8]=o("p",null,"Track matched donations, shipping information and delivery status",-1)),c(ja,{variant:"primary",onClick:s},{default:p((()=>t[6]||(t[6]=[v("View Matches")]))),_:1})])])])]))}},[["__scopeId","data-v-743a1e3d"]]),Nl={class:"pledge-container"},Pl={class:"pledge-wrapper"},Ml={key:0,class:"action-button-container"},xl={class:"pledge-table"},Ll={key:0},Vl={key:1},Fl={key:2},jl={key:0},Bl=["onUpdate:modelValue"],zl={key:1},$l={key:2},Hl={key:3},Wl={key:4,class:"action-buttons"},Kl=oa({__name:"PledgeView",setup(e){const n=t(),s=ia(),u=w((()=>"Admin"===s.role)),m=w((()=>"Donor"===s.role)),f=a([]);async function g(){try{const e=await jt.get(`http://127.0.0.1:5000/getPledges?user_id=${s.userId}`);f.value=e.data}catch(e){throw e}}l((()=>{g()}));const b=()=>{n.push({path:"/create-pledge"})};const _=a(null),q=e=>{_.value==e.pledge_id?(e.item_quantity<e.items_locked&&alert("You cannot update pledge to equal less then locked items"),async function(e,t){const a={pledge_id:e.pledge_id,item_quantity:t,user_id:s.userId};try{await jt.post("http://127.0.0.1:5000/updatePledge",a);n.push({path:"/pledge-view",replace:!0})}catch(l){throw l}}(e,e.item_quantity),_.value=null):_.value=e.pledge_id};return(e,t)=>(i(),r("div",Nl,[o("div",Pl,[t[6]||(t[6]=o("h1",{class:"pledge-header"},"Pledges View",-1)),u.value?h("",!0):(i(),r("div",Ml,[c(ja,{variant:"add",onClick:b},{default:p((()=>t[0]||(t[0]=[v("+ Create New Pledge")]))),_:1})])),o("table",xl,[o("thead",null,[o("tr",null,[t[1]||(t[1]=o("th",null,"Category",-1)),t[2]||(t[2]=o("th",null,"Item",-1)),t[3]||(t[3]=o("th",null,"Pledged Qty",-1)),t[4]||(t[4]=o("th",null,"Qty (Locked / Left)",-1)),u.value?(i(),r("th",Ll,"Donor")):h("",!0),u.value?(i(),r("th",Vl,"Zipcode")):h("",!0),u.value||m.value?(i(),r("th",Fl,"Actions")):h("",!0)])]),o("tbody",null,[(i(!0),r(d,null,D(f.value,((e,a)=>(i(),r("tr",{key:a},[o("td",null,y(e.category_name),1),o("td",null,y(e.item_name),1),_.value==e.pledge_id?(i(),r("td",jl,[S(o("input",{type:"number","onUpdate:modelValue":t=>e.item_quantity=t,class:"qty-input"},null,8,Bl),[[O,e.item_quantity]])])):(i(),r("td",zl,y(e.item_quantity),1)),o("td",null,y(e.items_locked)+" / "+y(e.items_left),1),u.value?(i(),r("td",$l,y(e.donor_id),1)):h("",!0),u.value?(i(),r("td",Hl,y(e.zip_code),1)):h("",!0),u.value||m.value?(i(),r("td",Wl,[c(ja,{variant:"edit",onClick:t=>q(e),title:"Update Pledged Qty"},{default:p((()=>[v(y(_.value==e.pledge_id?"Save":"Update"),1)])),_:2},1032,["onClick"]),c(ja,{variant:"danger",onClick:t=>async function(e){try{await jt.post(`http://127.0.0.1:5000/cancelPledge/${e}`),g()}catch(t){throw t}}(e.pledge_id),title:"Cancel Remaining Pledged Items"},{default:p((()=>t[5]||(t[5]=[v(" Delete ")]))),_:2},1032,["onClick"])])):h("",!0)])))),128))])])])]))}},[["__scopeId","data-v-f3fa4752"]]),Jl={class:"pledge-form-container"},Ql={class:"content-box"},Xl={class:"form-group"},Yl=["value"],Zl={class:"form-group"},Gl=["disabled"],es=["value"],ts={class:"form-group"},as=["disabled"],ns={class:"form-group"},ls=["disabled"],ss={class:"auth-actions"},rs=oa({__name:"CreatePledgeForm",setup(e){const n=t(),s=a(""),u=a(null),m=a(""),h=a(""),g=a([]),b=a([]),_=w((()=>Array.isArray(b.value)?b.value.filter((e=>e.category_id==s.value)):[]));async function q(){const e=ia();if(e.loadUserDataFromCookie(),!(s.value&&u.value&&m.value&&h.value))return void alert("Please fill out all fields.");const t={selected_category_id:s.value,selected_item_id:u.value,item_quantity:m.value,days_to_ship:h.value,user_id:e.userId};try{await jt.post("http://127.0.0.1:5000/createPledge",t);n.push({path:"/pledge-view",replace:!0})}catch(a){throw a}}return l((()=>{!async function(){try{const e=await jt.get("http://127.0.0.1:5000/getCategories");g.value=e.data}catch(e){}}(),async function(){try{const e=await jt.get("http://127.0.0.1:5000/getItems");b.value=e.data}catch(e){}}()})),(e,t)=>(i(),r("div",Jl,[o("div",Ql,[t[11]||(t[11]=o("h1",{class:"pledge-form-header"},"Create Pledge",-1)),t[12]||(t[12]=o("p",{class:"description"},"Make a pledge by filling in the details below.",-1)),o("form",{onSubmit:f(q,["prevent"])},[o("div",Xl,[t[5]||(t[5]=o("label",null,"Category:",-1)),S(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),required:""},[t[4]||(t[4]=o("option",{value:"",disabled:"",selected:""},"Select a category",-1)),(i(!0),r(d,null,D(g.value,(e=>(i(),r("option",{key:e.category_id,value:e.category_id},y(e.category_name),9,Yl)))),128))],512),[[I,s.value]])]),o("div",Zl,[t[7]||(t[7]=o("label",null,"Item:",-1)),S(o("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),required:"",disabled:""==s.value},[t[6]||(t[6]=o("option",{value:"",disabled:"",selected:""},"Select an item",-1)),(i(!0),r(d,null,D(_.value,(e=>(i(),r("option",{key:e.item_id,value:e.item_id},y(e.name),9,es)))),128))],8,Gl),[[I,u.value]])]),o("div",ts,[t[8]||(t[8]=o("label",null,"Item Quantity:",-1)),S(o("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>m.value=e),required:"",disabled:null==u.value,min:"1"},null,8,as),[[O,m.value]])]),o("div",ns,[t[9]||(t[9]=o("label",null,"Days To Ship:",-1)),S(o("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>h.value=e),required:"",disabled:null==u.value,min:"1"},null,8,ls),[[O,h.value]])]),o("div",ss,[c(ja,{type:"submit",variant:"primary"},{default:p((()=>t[10]||(t[10]=[v("Make Pledge")]))),_:1})])],32)])]))}},[["__scopeId","data-v-6348d277"]]),is={class:"recipient-container"},os={class:"content-box"},us={class:"recipient-boxes"},ds={class:"recipient-box"},cs={class:"recipient-box"},ps={class:"recipient-box"},vs=oa({__name:"RecipientDashboard",setup(e){const a=t();ia();const n=()=>{a.push({path:"/create-request",replace:!0})},l=()=>{a.push({path:"/request-view",replace:!0})},s=()=>{a.push({path:"/match-view",replace:!0})};return(e,t)=>(i(),r("div",is,[o("div",os,[t[9]||(t[9]=o("h1",{class:"recipient-header"},"Recipient Dashboard",-1)),t[10]||(t[10]=o("p",null,"Manage your requests and track donations from donors.",-1)),o("div",us,[o("div",ds,[t[1]||(t[1]=o("h3",null,"Create Request",-1)),t[2]||(t[2]=o("p",null,"Create a new request for disaster relief supplies you need",-1)),c(ja,{variant:"primary",onClick:n},{default:p((()=>t[0]||(t[0]=[v("Create Request")]))),_:1})]),o("div",cs,[t[4]||(t[4]=o("h3",null,"View Requests",-1)),t[5]||(t[5]=o("p",null,"Track your existing requests and their fulfillment status",-1)),c(ja,{variant:"primary",onClick:l},{default:p((()=>t[3]||(t[3]=[v("View Requests")]))),_:1})]),o("div",ps,[t[7]||(t[7]=o("h3",null,"View Matches",-1)),t[8]||(t[8]=o("p",null,"See donor matches, shipping information and track deliveries",-1)),c(ja,{variant:"primary",onClick:s},{default:p((()=>t[6]||(t[6]=[v("View Matches")]))),_:1})])])])]))}},[["__scopeId","data-v-a94e8c04"]]),ms={class:"requests-container"},hs={class:"content-box"},fs={class:"action-section"},ys={key:0,class:"no-requests-message"},gs={key:1},bs={class:"requests-grid"},_s={class:"request-header"},ws={class:"request-title"},qs={class:"request-location"},ks={class:"request-details"},As={class:"detail-row"},Cs={class:"detail-row"},Rs={class:"quantity-badge"},Ss={class:"detail-row"},Es={class:"detail-row"},Ds=["title"],Os={key:0,class:"detail-row"},Is=oa({__name:"RequestView",setup(e){const n=t(),s=ia();w((()=>"Admin"===s.role));const u=a([]);l((()=>{!async function(){try{const e=await jt.get(`http://127.0.0.1:5000/getRequests?user_id=${s.userId}`);u.value=e.data.filter((e=>e.request_quantity_remaining>0))}catch(e){throw e}}()}));const m=()=>{n.push({path:"/create-request"})},f=e=>{switch((e||"pending").toLowerCase()){case"shipped":return"status-shipped";case"delivered":return"status-delivered";default:return"status-pending"}},g=e=>{if(!e)return"match-type-none";switch(e.toLowerCase()){case"nearest":return"match-type-nearest";case"quickest":return"match-type-quickest";case"fulfillment":return"match-type-fulfillment";default:return"match-type-default"}};return(e,t)=>(i(),r("div",ms,[o("div",hs,[t[7]||(t[7]=o("h1",{class:"requests-header"},"Your Requests",-1)),o("div",fs,[c(ja,{variant:"add",onClick:m},{default:p((()=>t[0]||(t[0]=[v("Create New Request")]))),_:1})]),0===u.value.length?(i(),r("div",ys,t[1]||(t[1]=[o("p",null,'You don\'t have any active requests. Click "Create New Request" to get started.',-1)]))):(i(),r("div",gs,[o("div",bs,[(i(!0),r(d,null,D(u.value,((e,a)=>{var n;return i(),r("div",{key:a,class:"request-card"},[o("div",_s,[o("h3",ws,y(e.event_name)+" - "+y(e.category_name),1),o("div",qs,y(e.location||"Location not specified"),1)]),o("div",ks,[o("div",As,[t[2]||(t[2]=o("strong",null,"Specific Item:",-1)),o("span",null,y(e.item_name||"Any item in category"),1)]),o("div",Cs,[t[3]||(t[3]=o("strong",null,"Qty Remaining:",-1)),o("span",Rs,y(e.request_quantity_remaining),1)]),o("div",Ss,[t[4]||(t[4]=o("strong",null,"Status:",-1)),o("span",{class:b(["status-label",f(e.request_status)])},y((null==(n=e.request_status)?void 0:n.toLowerCase())||"pending"),3)]),o("div",Es,[t[5]||(t[5]=o("strong",null,"Preferred Match:",-1)),o("span",{class:b(["match-type-badge",g(e.preferred_match_type_name)]),title:e.preferred_match_type_name?`You requested ${e.preferred_match_type_name} matching`:"No preference specified"},y(e.preferred_match_type_name||"Not specified"),11,Ds)]),e.request_details&&""!==e.request_details.trim()?(i(),r("div",Os,[t[6]||(t[6]=o("strong",null,"Details:",-1)),o("span",null,y(e.request_details),1)])):h("",!0)])])})),128))])]))])]))}},[["__scopeId","data-v-7b5b235c"]]),Us={class:"create-request-container"},Ts={class:"content-box"},Ns={class:"form-group"},Ps=["value"],Ms={key:0,class:"event-location-display"},xs={class:"location-details"},Ls={class:"event-dates"},Vs={class:"form-group"},Fs=["value"],js={key:0,class:"form-group"},Bs=["value"],zs={class:"form-group"},$s={class:"form-group"},Hs=["value"],Ws={class:"form-group"},Ks={class:"auth-actions"};const Js=oa({components:{AppButton:ja},setup(){const e=t(),s=ia(),r=a(""),i=a(""),o=a(null),u=a(1),d=a(""),c=a(""),p=a([]),v=a([]),m=a([]),h=a([]),f=w((()=>r.value?p.value.find((e=>e.event_id==r.value)):null));l((async()=>{try{const e=await jt.get("http://127.0.0.1:5000/getActiveEvents");p.value=e.data||[];const t=await jt.get("http://127.0.0.1:5000/getMatchTypes");h.value=t.data||[]}catch(e){}}));const y=async()=>{if(r.value)try{const e=await jt.get(`http://127.0.0.1:5000/getEventCategories/${r.value}`);v.value=e.data||[]}catch(e){}};n(i,(e=>{e?((async()=>{if(i.value)try{const e=await jt.get(`http://127.0.0.1:5000/getItemsByCategory/${i.value}`);m.value=e.data||[]}catch(e){}})(),o.value=null):(m.value=[],o.value=null)}));return{selectedEvent:r,selectedCategory:i,selectedItem:o,quantity:u,details:d,preferredMatchType:c,events:p,categories:v,items:m,matchTypes:h,selectedEventDetails:f,formatDate:e=>{if(!e)return"Not specified";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},onEventChange:()=>{v.value=[],i.value="",m.value=[],o.value=null,r.value&&y()},submitRequest:async()=>{if(!s.userId)return alert("You must be logged in to create a request."),void e.push("/");const t={user_id:s.userId,event_id:r.value,category_id:i.value,item_id:o.value||null,quantity:u.value,details:d.value,status:"pending",preferred_match_type_id:c.value};try{const a=await jt.post("http://127.0.0.1:5000/createRequest",t);201===a.status?(alert("Request submitted successfully!"),"Admin"==s.role||"Donor"==s.role?e.push("/respond-to-requests"):e.push("/request-view")):alert(`Error: ${a.data.message||"An error occurred"}`)}catch(a){a.response&&a.response.data&&a.response.data.error?alert(`Error: ${a.response.data.error}`):alert("Error submitting request. Please try again later.")}}}}},[["render",function(e,t,a,n,l,s){const u=_("AppButton");return i(),r("div",Us,[o("div",Ts,[t[22]||(t[22]=o("h1",{class:"create-request-header"},"Create Request",-1)),t[23]||(t[23]=o("p",{class:"description"},"Select an event and specify your needs below.",-1)),o("form",{onSubmit:t[7]||(t[7]=f(((...e)=>n.submitRequest&&n.submitRequest(...e)),["prevent"]))},[o("div",Ns,[t[11]||(t[11]=o("label",null,"Select Disaster Event:",-1)),S(o("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedEvent=e),required:"",onChange:t[1]||(t[1]=(...e)=>n.onEventChange&&n.onEventChange(...e))},[t[8]||(t[8]=o("option",{value:"",disabled:""},"-- Select an event --",-1)),(i(!0),r(d,null,D(n.events,(e=>(i(),r("option",{key:e.event_id,value:e.event_id},y(e.event_name),9,Ps)))),128))],544),[[I,n.selectedEvent]]),n.selectedEventDetails?(i(),r("div",Ms,[t[10]||(t[10]=o("div",{class:"location-header"},[o("strong",null,"Event Location:")],-1)),o("div",xs,y(n.selectedEventDetails.location||"Location not specified"),1),o("div",Ls,[t[9]||(t[9]=o("strong",null,"Duration:",-1)),v(" "+y(n.formatDate(n.selectedEventDetails.start_date))+" - "+y(n.formatDate(n.selectedEventDetails.end_date)),1)])])):h("",!0)]),o("div",Vs,[t[13]||(t[13]=o("label",null,"Select Category:",-1)),S(o("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedCategory=e),required:""},[t[12]||(t[12]=o("option",{value:"",disabled:""},"-- Select a category --",-1)),(i(!0),r(d,null,D(n.categories,(e=>(i(),r("option",{key:e.category_id,value:e.category_id},y(e.category_name),9,Fs)))),128))],512),[[I,n.selectedCategory]])]),n.items.length>0?(i(),r("div",js,[t[15]||(t[15]=o("label",null,"Select Specific Item (Optional):",-1)),S(o("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>n.selectedItem=e)},[t[14]||(t[14]=o("option",{value:""},"-- No specific item --",-1)),(i(!0),r(d,null,D(n.items,(e=>(i(),r("option",{key:e.item_id,value:e.item_id},y(e.name),9,Bs)))),128))],512),[[I,n.selectedItem]])])):h("",!0),o("div",zs,[t[16]||(t[16]=o("label",null,"Quantity Needed:",-1)),S(o("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=e=>n.quantity=e),min:"1",required:""},null,512),[[O,n.quantity]])]),o("div",$s,[t[18]||(t[18]=o("label",null,"Preferred Matching Method:",-1)),S(o("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>n.preferredMatchType=e),required:""},[t[17]||(t[17]=o("option",{value:"",disabled:""},"-- Select matching preference --",-1)),(i(!0),r(d,null,D(n.matchTypes,(e=>(i(),r("option",{key:e.match_type_id,value:e.match_type_id},y(e.name)+" - "+y(e.description),9,Hs)))),128))],512),[[I,n.preferredMatchType]]),t[19]||(t[19]=o("p",{class:"help-text"}," This helps administrators know your preference when automatically matching your request with available donations. ",-1))]),o("div",Ws,[t[20]||(t[20]=o("label",null,"Additional Details:",-1)),S(o("textarea",{"onUpdate:modelValue":t[6]||(t[6]=e=>n.details=e),rows:"4",placeholder:"Describe your specific needs..."},null,512),[[O,n.details]])]),o("div",Ks,[c(u,{type:"submit",variant:"primary"},{default:p((()=>t[21]||(t[21]=[v("Submit Request")]))),_:1})])],32)])])}],["__scopeId","data-v-3e96a2df"]]),Qs={class:"respond-container"},Xs={class:"content-box"},Ys={key:0,class:"no-requests"},Zs={class:"request-list"},Gs={class:"request-title"},er={class:"request-location"},tr={key:0},ar={key:1},nr={class:"button-group"},lr=oa({__name:"RespondToRequests",setup(e){const n=t(),s=ia();s.loadUserDataFromCookie();const c=a([]),m=async()=>{try{const e=await jt.get("http://127.0.0.1:5000/getRequestsForResponse");c.value=e.data.filter((e=>e.request_quantity_remaining>0))||[]}catch(e){}};l(m),T(((e,t,a)=>{m(),a()}));return localStorage.getItem("reloadRequests")&&(m(),localStorage.removeItem("reloadRequests")),(e,t)=>(i(),r("div",Qs,[o("div",Xs,[t[8]||(t[8]=o("h2",{class:"respond-header"},"Respond to Requests",-1)),t[9]||(t[9]=o("p",{class:"description"},"Browse the list of disaster relief requests that need your help.",-1)),0===c.value.length?(i(),r("div",Ys,"No requests available at the moment.")):h("",!0),o("ul",Zs,[(i(!0),r(d,null,D(c.value,(e=>(i(),r("li",{key:e.request_id,class:"request-card"},[o("h3",Gs,y(e.event_name)+" - "+y(e.category),1),o("div",er,[t[0]||(t[0]=o("strong",null,"Location:",-1)),v(" "+y(e.event_location||"Location not specified"),1)]),e.item_name?(i(),r("p",tr,[t[1]||(t[1]=o("strong",null,"Specific Item:",-1)),v(" "+y(e.item_name),1)])):h("",!0),o("p",null,[t[2]||(t[2]=o("strong",null,"Requested Quantity:",-1)),v(" "+y(e.quantity),1)]),e.details&&""!==e.details.trim()?(i(),r("p",ar,[t[3]||(t[3]=o("strong",null,"Details:",-1)),v(" "+y(e.details),1)])):h("",!0),o("p",null,[t[4]||(t[4]=o("strong",null,"Remaining Needed:",-1)),v(" "+y(e.request_quantity_remaining),1)]),o("div",nr,["Donor"==u(s).role?(i(),g(ja,{key:0,variant:"primary",onClick:t=>{return a=e.request_id,void n.push({path:`/respond/${a}`}).then((()=>{localStorage.setItem("reloadRequests","true")}));var a}},{default:p((()=>t[5]||(t[5]=[v("Respond")]))),_:2},1032,["onClick"])):h("",!0),"Admin"==u(s).role?(i(),g(ja,{key:1,variant:"primary",onClick:t=>{return a=e.request_id,void n.push({path:`/create-match/${a}`});var a}},{default:p((()=>t[6]||(t[6]=[v("Manual Match")]))),_:2},1032,["onClick"])):h("",!0),"Admin"==u(s).role?(i(),g(ja,{key:2,variant:"primary",onClick:t=>{return a=e.request_id,void n.push({path:`/auto-match/${a}`});var a}},{default:p((()=>t[7]||(t[7]=[v("Auto Match")]))),_:2},1032,["onClick"])):h("",!0)])])))),128))])])]))}},[["__scopeId","data-v-15afb207"]]),sr={class:"response-detail-container"},rr={class:"content-box"},ir={class:"response-detail-header"},or={key:0,class:"request-info"},ur={class:"info-section"},dr={key:0},cr={key:1},pr={key:0,class:"locked-notice"},vr={key:1,class:"form-section"},mr={class:"form-group"},hr=["max"],fr={class:"form-group"},yr={class:"button-row"},gr={key:1,class:"loading"},br=oa({__name:"RespondPage",setup(e){const n=q(),s=t(),u=ia(),d=a(null),m=a(""),f=a(1),g=a(!1),b=a(null);l((async()=>{const e=n.params.id;try{if(n.query.responseId){g.value=!0,b.value=n.query.responseId;const e=await jt.get(`http://127.0.0.1:5000/getResponseDetails/${b.value}`);m.value=e.data.message,f.value=e.data.quantity,d.value=e.data.request}else{const t=await jt.get(`http://127.0.0.1:5000/getRequestDetails/${e}`);d.value=t.data,f.value=1}}catch(t){}}));const _=async()=>{const e=n.params.id;try{if(g.value){const e={response_id:b.value,quantity:f.value,message:m.value},t=await jt.post("http://127.0.0.1:5000/updateResponse",e);200===t.status?(alert("Response updated successfully!"),s.push("/donor")):alert("Error updating response: "+t.data.error)}else{const t={request_id:e,donor_id:u.userId,quantity:f.value,message:m.value},a=await jt.post("http://127.0.0.1:5000/submitResponse",t);200===a.status||201===a.status?(alert("Response submitted successfully!"),s.push("/donor")):alert("Error submitting response.")}}catch(t){t.response&&403===t.response.status?alert("This response is locked and cannot be edited."):alert("Error "+(g.value?"updating":"submitting")+" response. Please try again later.")}},w=()=>{s.back()};return(e,t)=>(i(),r("div",sr,[o("div",rr,[o("h1",ir,y(g.value?"Edit Response":"Respond to Request"),1),t[10]||(t[10]=o("p",{class:"description"},"Please review the request details and provide your response.",-1)),d.value?(i(),r("div",or,[o("div",ur,[o("h3",null,y(d.value.event_name)+" - "+y(d.value.category),1),o("p",null,[t[2]||(t[2]=o("strong",null,"Quantity Requested:",-1)),v(" "+y(d.value.quantity),1)]),d.value.item_name?(i(),r("p",dr,[t[3]||(t[3]=o("strong",null,"Specific Item:",-1)),v(" "+y(d.value.item_name),1)])):h("",!0),d.value.details?(i(),r("p",cr,[t[4]||(t[4]=o("strong",null,"Details:",-1)),v(" "+y(d.value.details),1)])):h("",!0)]),d.value.is_locked?(i(),r("div",pr,t[5]||(t[5]=[o("p",null,"This response has been locked and cannot be edited.",-1)]))):(i(),r("div",vr,[o("div",mr,[t[6]||(t[6]=o("label",{for:"responseQuantity"},"Quantity to donate:",-1)),S(o("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),id:"responseQuantity",max:d.value.request_quantity_remaining,min:1,required:""},null,8,hr),[[O,f.value]])]),o("div",fr,[t[7]||(t[7]=o("label",{for:"responseDetails"},"Response Details:",-1)),S(o("textarea",{"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),id:"responseDetails",rows:"4",placeholder:"Describe your response..."},null,512),[[O,m.value]])]),o("div",yr,[c(ja,{variant:"primary",onClick:_},{default:p((()=>[v(y(g.value?"Update Response":"Submit Response"),1)])),_:1}),c(ja,{variant:"cancel",onClick:w},{default:p((()=>t[8]||(t[8]=[v(" Cancel ")]))),_:1})])]))])):(i(),r("div",gr,t[9]||(t[9]=[o("p",null,"Loading request details...",-1)])))])]))}},[["__scopeId","data-v-f04d6d5b"]]),_r={class:"match-container"},wr={class:"match-wrapper"},qr={class:"table-container"},kr={class:"match-table"},Ar=oa({__name:"MatchView",setup(e){const n=t(),s=ia();w((()=>"Admin"===s.role)),w((()=>"Donor"===s.role)),w((()=>"Recipient"===s.role));const u=a([]);l((()=>{!async function(){try{const e=await jt.get(`http://127.0.0.1:5000/getMatches?user_id=${s.userId}`);u.value=e.data}catch(e){}}()}));const m=e=>{switch(e){case"shipped":return"status-shipped";case"delivered":return"status-delivered";default:return"status-pending"}};return(e,t)=>(i(),r("div",_r,[o("div",wr,[t[1]||(t[1]=o("h1",{class:"match-header"},"Matches View",-1)),t[2]||(t[2]=o("p",{class:"description"},"Track matched donations, shipping information and delivery status.",-1)),o("div",qr,[o("table",kr,[t[0]||(t[0]=o("thead",null,[o("tr",null,[o("th",null,"Event"),o("th",null,"Category"),o("th",null,"Item"),o("th",null,"Count"),o("th",null,"Match Status"),o("th",null,"Shipping Status"),o("th",null,"Actions")])],-1)),o("tbody",null,[(i(!0),r(d,null,D(u.value,((e,t)=>(i(),r("tr",{key:t},[o("td",null,y(e.event_name),1),o("td",null,y(e.category_name),1),o("td",null,y(e.item_name),1),o("td",null,y(e.match_quantity),1),o("td",null,y(e.match_status),1),o("td",null,[o("span",{class:b(m(e.shipping_status))},y(e.shipping_status||"pending"),3)]),o("td",null,[c(ja,{variant:"primary",onClick:t=>(e=>{n.push({path:`/shipping/${e.match_id}`})})(e)},{default:p((()=>[v(y("pending"===e.shipping_status?"Update Shipping":"View Shipping"),1)])),_:2},1032,["onClick"])])])))),128))])])])])]))}},[["__scopeId","data-v-f938aecd"]]),Cr={class:"shipping-container"},Rr={class:"shipping-wrapper"},Sr={key:0,class:"shipping-details"},Er={class:"info-section"},Dr={key:0,class:"info-section"},Or={class:"form-group"},Ir={key:0},Ur={key:0,class:"form-group"},Tr={key:1,class:"form-group"},Nr={class:"form-group"},Pr={key:0,value:"shipped"},Mr={key:1,value:"delivered"},xr={key:1,class:"info-section"},Lr={key:1},Vr={key:2,class:"error"},Fr=oa({__name:"ShippingInfo",setup(e){const n=q();t();const s=ia(),u=a(null),d=a(!0),m=a(!1),b=a(""),_=a(""),k=a(""),A=a("pending"),C=w((()=>"Admin"===s.role)),R=w((()=>"Recipient"===s.role));w((()=>"Donor"===s.role));const E=w((()=>!!u.value&&("pending"===u.value.shipping_status||(!("shipped"!==u.value.shipping_status||!C.value)||!("delivered"!==u.value.shipping_status||!C.value||!m.value)))));function D(){m.value=!0}async function U(){try{const e=n.params.id,t=await jt.get(`http://127.0.0.1:5000/api/getShippingInfo/${e}`);u.value=t.data,t.data.shipping_address&&(b.value=t.data.shipping_address),t.data.tracking_number&&(_.value=t.data.tracking_number),t.data.shipping_date&&(k.value=t.data.shipping_date),A.value=t.data.shipping_status}catch(e){}finally{d.value=!1}}async function T(){try{const e={match_id:n.params.id,shipping_status:A.value,tracking_number:_.value,shipping_date:k.value,shipping_address:b.value,user_id:s.userId};await jt.post("http://127.0.0.1:5000/api/updateShippingStatus",e),alert("Shipping information updated successfully!"),await U()}catch(e){e.response&&403===e.response.status?"Donor"===s.role?alert("You can only mark items as shipped. Only admins can mark items as delivered."):alert(e.response.data.error||"You do not have permission to perform this action."):alert("Failed to update shipping information")}}return l((()=>{U()})),(e,t)=>(i(),r("div",Cr,[o("div",Rr,[t[22]||(t[22]=o("h1",{class:"shipping-header"},"Shipping Information",-1)),u.value?(i(),r("div",Sr,[o("div",Er,[t[8]||(t[8]=o("h3",null,"Match Details",-1)),o("p",null,[t[4]||(t[4]=o("strong",null,"Event:",-1)),v(" "+y(u.value.event_name),1)]),o("p",null,[t[5]||(t[5]=o("strong",null,"Recipient:",-1)),v(" "+y(u.value.recipient_name),1)]),o("p",null,[t[6]||(t[6]=o("strong",null,"Shipping To:",-1)),v(" "+y(u.value.recipient_zip),1)]),o("p",null,[t[7]||(t[7]=o("strong",null,"Status:",-1)),v(" "+y(u.value.shipping_status),1)])]),E.value?(i(),r("div",Dr,[t[14]||(t[14]=o("h3",null,"Update Shipping Information",-1)),o("form",{onSubmit:f(T,["prevent"])},[o("div",Or,[R.value?h("",!0):(i(),r("label",Ir,"Shipping Address:")),R.value?h("",!0):S((i(),r("textarea",{key:1,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value=e),rows:"3",required:""},null,512)),[[O,b.value]])]),R.value?h("",!0):(i(),r("div",Ur,[t[9]||(t[9]=o("label",null,"Tracking Number:",-1)),S(o("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e)},null,512),[[O,_.value]])])),R.value?h("",!0):(i(),r("div",Tr,[t[10]||(t[10]=o("label",null,"Shipping Date:",-1)),S(o("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>k.value=e),required:""},null,512),[[O,k.value]])])),o("div",Nr,[t[12]||(t[12]=o("label",null,"Status:",-1)),S(o("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>A.value=e),required:""},[t[11]||(t[11]=o("option",{value:"pending"},"Pending",-1)),R.value?h("",!0):(i(),r("option",Pr,"Shipped")),R.value||C.value?(i(),r("option",Mr,"Delivered")):h("",!0)],512),[[I,A.value]])]),c(ja,{type:"submit",variant:"primary"},{default:p((()=>t[13]||(t[13]=[v("Update Shipping")]))),_:1})],32)])):(i(),r("div",xr,[t[19]||(t[19]=o("h3",null,"Shipping Information",-1)),o("p",null,[t[15]||(t[15]=o("strong",null,"Address:",-1)),v(" "+y(u.value.shipping_address),1)]),o("p",null,[t[16]||(t[16]=o("strong",null,"Tracking Number:",-1)),v(" "+y(u.value.tracking_number),1)]),o("p",null,[t[17]||(t[17]=o("strong",null,"Shipping Date:",-1)),v(" "+y(u.value.shipping_date),1)]),C.value&&"delivered"===u.value.shipping_status?(i(),g(ja,{key:0,variant:"edit",onClick:D},{default:p((()=>t[18]||(t[18]=[v(" Edit Shipping Info ")]))),_:1})):h("",!0)]))])):d.value?(i(),r("div",Lr,t[20]||(t[20]=[o("p",null,"Loading shipping information...",-1)]))):(i(),r("div",Vr,t[21]||(t[21]=[o("p",null,"Unable to load shipping information.",-1)])))])]))}},[["__scopeId","data-v-c56a9ad1"]]),jr={class:"auto-match-container"},Br={class:"content-box"},zr={key:0,class:"no-matches-message"},$r={key:1},Hr={class:"info-section"},Wr={key:0},Kr={key:1},Jr={key:2},Qr={key:3},Xr={class:"inventory-breakdown"},Yr={class:"inventory-stats"},Zr={class:"inventory-stat"},Gr={class:"stat-value"},ei={class:"inventory-stat"},ti={class:"stat-value"},ai={class:"inventory-stat"},ni={class:"stat-value"},li={key:0,class:"no-pledges-message"},si={key:1,class:"partial-match-message"},ri={key:2,class:"form-section"},ii={class:"priority-selection"},oi={class:"radio-group"},ui={class:"radio-option"},di=["disabled"],ci={class:"radio-option"},pi=["disabled"],vi={class:"radio-option"},mi={class:"match-options"},hi=["onClick"],fi={class:"match-name"},yi={class:"match-description"},gi={class:"button-group"},bi=oa({__name:"AutoMatch",setup(e){const n=q(),s=t(),u=ia(),m=a([]),f=a({}),g=a({base_quantity:0,total_from_pledges:0,total_available:0,available_pledges:[]}),_=a("auto"),w=e=>f.value.preferred_match_type_id===e.match_type_id;function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}async function A(e){try{const t=await jt.get(`http://127.0.0.1:5000/getRequests?user_id=${u.userId}&request_id=${e}`);t.data.length>0&&(f.value=t.data[0],await async function(e){try{const t=await jt.get(`http://127.0.0.1:5000/getCombinedMatchOptions?request_id=${e}`);g.value=t.data,0===g.value.base_quantity?_.value="pledges":0===g.value.total_from_pledges&&(_.value="admin")}catch(t){g.value={base_quantity:0,total_from_pledges:0,total_available:0,available_pledges:[]}}}(e))}catch(t){}}const C=()=>{s.back()};return l((()=>{A(n.params.id),async function(){try{const e=await jt.get("http://127.0.0.1:5000/api/getAutoMatchType");e.data.length>0&&(m.value=e.data)}catch(e){}}()})),(e,t)=>(i(),r("div",jr,[o("div",Br,[t[29]||(t[29]=o("h1",{class:"auto-match-header"},"Auto Match",-1)),f.value.request_quantity_remaining<1?(i(),r("div",zr," Request has enough pledges and matches to fulfill. ")):(i(),r("div",$r,[o("div",Hr,[t[11]||(t[11]=o("h3",null,"Request Details",-1)),o("p",null,[t[3]||(t[3]=o("strong",null,"Event:",-1)),v(" "+y(f.value.event_name),1)]),o("p",null,[t[4]||(t[4]=o("strong",null,"Category:",-1)),v(" "+y(f.value.category_name),1)]),f.value.item_name?(i(),r("p",Wr,[t[5]||(t[5]=o("strong",null,"Specific Item:",-1)),v(" "+y(f.value.item_name),1)])):h("",!0),o("p",null,[t[6]||(t[6]=o("strong",null,"Quantity Requested:",-1)),v(" "+y(f.value.request_quantity),1)]),o("p",null,[t[7]||(t[7]=o("strong",null,"Quantity Remaining:",-1)),v(" "+y(f.value.request_quantity_remaining),1)]),f.value.requester_zipcode?(i(),r("p",Kr,[t[8]||(t[8]=o("strong",null,"Recipient Location:",-1)),v(" "+y(f.value.requester_zipcode),1)])):h("",!0),f.value.request_details?(i(),r("p",Jr,[t[9]||(t[9]=o("strong",null,"Details:",-1)),v(" "+y(f.value.request_details),1)])):h("",!0),f.value.preferred_match_type_name?(i(),r("p",Qr,[t[10]||(t[10]=o("strong",null,"Recipient's Preferred Method:",-1)),v(" "+y(k(f.value.preferred_match_type_name)),1)])):h("",!0)]),o("div",Xr,[t[15]||(t[15]=o("h4",null,"Available Inventory",-1)),o("div",Yr,[o("div",Zr,[t[12]||(t[12]=o("span",{class:"stat-label"},"Total Available:",-1)),o("span",Gr,y(g.value.total_available)+" items",1)]),o("div",ei,[t[13]||(t[13]=o("span",{class:"stat-label"},"Admin Inventory:",-1)),o("span",ti,y(g.value.base_quantity)+" items",1)]),o("div",ai,[t[14]||(t[14]=o("span",{class:"stat-label"},"From Pledges:",-1)),o("span",ni,y(g.value.total_from_pledges)+" items",1)])])]),0===g.value.total_available?(i(),r("div",li," No inventory or pledges available for this item type. Please check back later or add more pledges. ")):g.value.total_available<f.value.request_quantity_remaining?(i(),r("div",si,[o("p",null,[t[16]||(t[16]=o("strong",null,"Note:",-1)),v(" Only "+y(g.value.total_available)+" items are available of the "+y(f.value.request_quantity_remaining)+" still needed. This will be a partial match.",1)])])):h("",!0),g.value.total_available>0?(i(),r("div",ri,[t[26]||(t[26]=o("h3",null,"Select Auto-Match Method",-1)),t[27]||(t[27]=o("p",{class:"helper-text"},"Choose how you want the system to match this request with available inventory sources.",-1)),o("div",ii,[t[23]||(t[23]=o("h4",null,"Inventory Priority",-1)),t[24]||(t[24]=o("p",{class:"help-text"},"Select which inventory source should be prioritized when matching.",-1)),o("div",oi,[o("div",ui,[S(o("input",{type:"radio",id:"priority-admin",value:"admin","onUpdate:modelValue":t[0]||(t[0]=e=>_.value=e),disabled:0===g.value.base_quantity},null,8,di),[[N,_.value]]),t[17]||(t[17]=o("label",{for:"priority-admin"},"Admin Inventory First",-1)),t[18]||(t[18]=o("span",{class:"option-description"},"Use admin inventory before donor pledges",-1))]),o("div",ci,[S(o("input",{type:"radio",id:"priority-pledges",value:"pledges","onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),disabled:0===g.value.total_from_pledges},null,8,pi),[[N,_.value]]),t[19]||(t[19]=o("label",{for:"priority-pledges"},"Donor Pledges First",-1)),t[20]||(t[20]=o("span",{class:"option-description"},"Use donor pledges before admin inventory",-1))]),o("div",vi,[S(o("input",{type:"radio",id:"priority-auto",value:"auto","onUpdate:modelValue":t[2]||(t[2]=e=>_.value=e)},null,512),[[N,_.value]]),t[21]||(t[21]=o("label",{for:"priority-auto"},"Automatic (Recommended)",-1)),t[22]||(t[22]=o("span",{class:"option-description"},"Let the system decide the optimal source based on match method",-1))])])]),t[28]||(t[28]=o("h4",null,"Match Algorithms",-1)),o("div",mi,[(i(!0),r(d,null,D(m.value,(e=>(i(),r("div",{key:e.match_type_id,class:"match-option"},[o("button",{class:b(["match-btn",{"match-btn-preferred":w(e)}]),onClick:t=>async function(e,t){try{const a={request_id:e.request_id,match_type_name:t.name,inventory_priority:_.value},n=await jt.post("http://127.0.0.1:5000/api/autoMatch",a);200===n.status&&(alert(n.data.message||"Match created successfully!"),s.push({path:"/match-view"}))}catch(a){a.response?400===a.response.status?alert("No inventory or pledges available to match with this request."):alert(`Error: ${a.response.data.message||"Failed to create match"}`):alert("Failed to create match. Please try again."),s.push({path:"/respond-to-requests"})}}(f.value,e)},[o("span",fi,y(k(e.name)),1),o("span",yi,y(e.description),1)],10,hi)])))),128))]),o("div",gi,[c(ja,{variant:"cancel",onClick:C},{default:p((()=>t[25]||(t[25]=[v("Cancel")]))),_:1})])])):h("",!0)]))])]))}},[["__scopeId","data-v-d7bb1aa3"]]),_i={class:"match-container"},wi={class:"content-box"},qi={key:0,class:"no-matches-message"},ki={key:1},Ai={class:"info-section"},Ci={key:0},Ri={key:1},Si={key:2},Ei={class:"form-section"},Di={key:0,class:"inventory-summary"},Oi={class:"inventory-stats"},Ii={class:"inventory-stat"},Ui={class:"stat-value"},Ti={class:"inventory-stat"},Ni={class:"stat-value"},Pi={class:"inventory-stat"},Mi={class:"stat-value"},xi={key:1,class:"no-pledges-message"},Li={key:2,class:"source-tabs"},Vi=["disabled"],Fi=["disabled"],ji={key:3,class:"tab-content"},Bi={class:"admin-inventory"},zi={class:"form-group"},$i=["max"],Hi={key:4,class:"tab-content"},Wi={class:"pledge-selection"},Ki=["onClick"],Ji={class:"pledge-donor"},Qi={class:"pledge-details"},Xi={class:"pledge-item"},Yi={class:"quantity-badge"},Zi={class:"pledge-meta"},Gi={class:"ship-days"},eo={class:"donor-location"},to={key:0,class:"match-details"},ao={class:"form-group"},no=["max"],lo={class:"auto-match-option"},so={class:"button-group"},ro=[{path:"/",name:"login",component:tn,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:fn,meta:{requiresAuth:!1}},{path:"/reset-password",name:"reset-password",component:wn,meta:{requiresAuth:!1}},{path:"/admin",name:"admin",component:kn,meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/admin/create-event",name:"create-event",component:Pn,meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/admin/manage-items",name:"manage-items",component:sl,meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/admin/view-events",name:"view-events",component:Rl,meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/donor",name:"donor",component:Tl,meta:{requiresAuth:!0,roles:["Donor"]}},{path:"/pledge-view",name:"pledges",component:Kl,meta:{requiresAuth:!0,roles:["Donor","Admin"]}},{path:"/create-pledge",name:"create-pledge",component:rs,meta:{requiresAuth:!0,roles:["Donor"]}},{path:"/recipient",name:"recipient",component:vs,meta:{requiresAuth:!0,roles:["Recipient"]}},{path:"/request-view",name:"requests",component:Is,meta:{requiresAuth:!0,roles:["Recipient","Admin"]}},{path:"/create-request",name:"create-request",component:Js,meta:{requiresAuth:!0,roles:["Recipient","Donor","Admin"]}},{path:"/respond-to-requests",name:"respond-to-requests",component:lr,meta:{requiresAuth:!0,roles:["Donor","Admin"]}},{path:"/respond/:id",name:"respond-page",component:br,meta:{requiresAuth:!0,roles:["Donor","Admin"]}},{path:"/match-view",name:"matches",component:Ar,meta:{requiresAuth:!0,roles:["Donor","Recipient","Admin"]}},{path:"/shipping/:id",name:"shipping",component:Fr,meta:{requiresAuth:!0,roles:["Donor","Recipient","Admin"]}},{path:"/create-match/:id",name:"create-match",component:oa({__name:"ManualMatchForm",setup(e,{expose:s}){s({AppButton:ja});const u=q(),m=t(),f=ia(),g=a({}),_=a({base_quantity:0,total_from_pledges:0,total_available:0,available_pledges:[],available_sources:[]}),w=a("admin"),k=a(null),A=a(1),C=a(1);async function R(e){try{const t=await jt.get(`http://127.0.0.1:5000/getRequests?user_id=${f.userId}&request_id=${e}`);t.data.length>0&&(g.value=t.data[0],await async function(e){try{const t=await jt.get(`http://127.0.0.1:5000/getCombinedMatchOptions?request_id=${e}`);_.value=t.data,w.value=_.value.base_quantity>0?"admin":"pledges",A.value=Math.min(_.value.base_quantity,g.value.request_quantity_remaining),k.value=null}catch(t){_.value={base_quantity:0,total_from_pledges:0,total_available:0,available_pledges:[],available_sources:[]}}}(e))}catch(t){}}const E=()=>{m.back()};return n(A,(e=>{const t=parseInt(e);!e||isNaN(t)||t<1?A.value=1:_.value&&t>_.value.base_quantity?A.value=_.value.base_quantity:g.value&&t>g.value.request_quantity_remaining&&(A.value=g.value.request_quantity_remaining)})),n(C,(e=>{const t=parseInt(e);!e||isNaN(t)||t<1?C.value=1:k.value&&t>k.value.available_quantity?C.value=k.value.available_quantity:g.value&&t>g.value.request_quantity_remaining&&(C.value=g.value.request_quantity_remaining)})),l((()=>{R(u.params.id)})),(e,t)=>(i(),r("div",_i,[o("div",wi,[t[32]||(t[32]=o("h1",{class:"match-header"},"Create Manual Match",-1)),g.value.request_quantity_remaining<1?(i(),r("div",qi," Request has enough pledges and matches to fulfill. ")):(i(),r("div",ki,[o("div",Ai,[t[14]||(t[14]=o("h3",null,"Request Details",-1)),o("p",null,[t[7]||(t[7]=o("strong",null,"Event:",-1)),v(" "+y(g.value.event_name),1)]),o("p",null,[t[8]||(t[8]=o("strong",null,"Category:",-1)),v(" "+y(g.value.category_name),1)]),g.value.item_name?(i(),r("p",Ci,[t[9]||(t[9]=o("strong",null,"Specific Item:",-1)),v(" "+y(g.value.item_name),1)])):h("",!0),o("p",null,[t[10]||(t[10]=o("strong",null,"Quantity Requested:",-1)),v(" "+y(g.value.request_quantity),1)]),o("p",null,[t[11]||(t[11]=o("strong",null,"Quantity Remaining:",-1)),v(" "+y(g.value.request_quantity_remaining),1)]),g.value.requester_zipcode?(i(),r("p",Ri,[t[12]||(t[12]=o("strong",null,"Recipient Location:",-1)),v(" "+y(g.value.requester_zipcode),1)])):h("",!0),g.value.request_details?(i(),r("p",Si,[t[13]||(t[13]=o("strong",null,"Details:",-1)),v(" "+y(g.value.request_details),1)])):h("",!0)]),o("div",Ei,[t[31]||(t[31]=o("h3",null,"Match Options",-1)),_.value.available_sources.length>0?(i(),r("div",Di,[t[18]||(t[18]=o("h4",null,"Inventory Summary",-1)),o("div",Oi,[o("div",Ii,[t[15]||(t[15]=o("span",{class:"stat-label"},"Total Available:",-1)),o("span",Ui,y(_.value.total_available)+" items",1)]),o("div",Ti,[t[16]||(t[16]=o("span",{class:"stat-label"},"Admin Inventory:",-1)),o("span",Ni,y(_.value.base_quantity)+" items",1)]),o("div",Pi,[t[17]||(t[17]=o("span",{class:"stat-label"},"Donor Pledges:",-1)),o("span",Mi,y(_.value.total_from_pledges)+" items",1)])])])):h("",!0),0===_.value.available_sources.length?(i(),r("div",xi," No inventory or pledges match the requested item. ")):(i(),r("div",Li,[o("button",{class:b(["tab-button",{active:"admin"===w.value}]),onClick:t[0]||(t[0]=e=>w.value="admin"),disabled:_.value.base_quantity<=0}," Admin Inventory ("+y(_.value.base_quantity)+") ",11,Vi),o("button",{class:b(["tab-button",{active:"pledges"===w.value}]),onClick:t[1]||(t[1]=e=>w.value="pledges"),disabled:0===_.value.available_pledges.length}," Donor Pledges ("+y(_.value.total_from_pledges)+") ",11,Fi)])),"admin"===w.value&&_.value.base_quantity>0?(i(),r("div",ji,[o("div",Bi,[t[20]||(t[20]=o("h4",null,"Match from Admin Inventory",-1)),t[21]||(t[21]=o("p",{class:"help-text"},"This will create a match using items directly from the system inventory.",-1)),o("div",zi,[t[19]||(t[19]=o("label",{for:"admin-match-quantity"},"Match Quantity:",-1)),S(o("input",{type:"number",id:"admin-match-quantity","onUpdate:modelValue":t[2]||(t[2]=e=>A.value=e),min:"1",max:Math.min(_.value.base_quantity,g.value.request_quantity_remaining)},null,8,$i),[[O,A.value]])]),o("button",{class:"match-btn",onClick:t[3]||(t[3]=e=>async function(e){if(!A.value||A.value<1)alert("Please enter a valid quantity");else try{const t={requestId:e.request_id,adminQuantity:A.value,isAdminSource:!0};await jt.post("http://127.0.0.1:5000/createAdminMatch",t),alert("Match created successfully from admin inventory!"),m.push({path:"/match-view"})}catch(t){alert("Failed to create match from admin inventory. Please try again.")}}(g.value))}," Match from Admin Inventory ")])])):h("",!0),"pledges"===w.value&&_.value.available_pledges.length>0?(i(),r("div",Hi,[o("div",Wi,[t[22]||(t[22]=o("h4",null,"Select a Specific Donor Pledge",-1)),t[23]||(t[23]=o("p",{class:"help-text"},"Choose a specific donor pledge to fulfill this request.",-1)),(i(!0),r(d,null,D(_.value.available_pledges,(e=>(i(),r("div",{key:e.pledge_id,class:"pledge-option"},[o("button",{class:b(["pledge-btn",{selected:k.value&&k.value.pledge_id===e.pledge_id}]),onClick:t=>(e=>{k.value=e,C.value=Math.min(e.available_quantity,g.value.request_quantity_remaining||1)})(e)},[o("div",Ji,y(e.donor_name||"Donor #"+e.donor_id),1),o("div",Qi,[o("span",Xi,y(e.item_name),1),o("span",Yi,"Available: "+y(e.available_quantity),1)]),o("div",Zi,[o("span",Gi,y(e.days_to_ship)+" days to ship",1),o("span",eo,y(e.donor_zipcode),1)])],10,Ki)])))),128))]),k.value?(i(),r("div",to,[t[27]||(t[27]=o("h3",null,"Match Details",-1)),o("p",null,[t[24]||(t[24]=o("strong",null,"Selected Donor:",-1)),v(" "+y(k.value.donor_name||"Donor #"+k.value.donor_id),1)]),o("p",null,[t[25]||(t[25]=o("strong",null,"Selected Item:",-1)),v(" "+y(k.value.item_name),1)]),o("div",ao,[t[26]||(t[26]=o("label",{for:"match-quantity"},"Match Quantity:",-1)),S(o("input",{type:"number",id:"match-quantity","onUpdate:modelValue":t[4]||(t[4]=e=>C.value=e),min:"1",max:Math.min(k.value.available_quantity,g.value.request_quantity_remaining)},null,8,no),[[O,C.value]])]),o("button",{class:"match-btn",onClick:t[5]||(t[5]=e=>async function(e,t){if(!C.value||C.value<1)alert("Please enter a valid quantity");else try{const a={requestId:e.request_id,pledgeId:t.pledge_id,matchQuantity:C.value};await jt.post("http://127.0.0.1:5000/createMatch",a),alert("Match created successfully from donor pledge!"),m.push({path:"/match-view"})}catch(a){alert("Failed to create match from donor pledge. Please try again.")}}(g.value,k.value))}," Create Match from Pledge ")])):h("",!0)])):h("",!0),o("div",lo,[t[28]||(t[28]=o("h3",null,"Or Use Auto Match",-1)),t[29]||(t[29]=o("p",null,"Let the system automatically match this request with the best available sources.",-1)),c(ja,{variant:"auto-match",onClick:t[6]||(t[6]=e=>{return t=g.value.request_id,void m.push({path:`/auto-match/${t}`});var t})},{default:p((()=>[v(" Auto Match ("+y(_.value.total_available)+" available) ",1)])),_:1})]),o("div",so,[c(ja,{variant:"cancel",onClick:E},{default:p((()=>t[30]||(t[30]=[v("Cancel")]))),_:1})])])]))])]))}},[["__scopeId","data-v-17f6e762"]]),meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/auto-match/:id",name:"auto-match",component:bi,meta:{requiresAuth:!0,roles:["Admin"]}},{path:"/:pathMatch(.*)*",redirect:"/"}],io=P({history:M(),routes:ro,scrollBehavior:(e,t,a)=>a||{top:0}});io.beforeEach(((e,t,a)=>{const n=ia();if(n.loadUserDataFromCookie(),e.meta.requiresAuth){if(!n.isAuthenticated)return void a({name:"login"});if(e.meta.roles&&!e.meta.roles.includes(n.role))return void(n.isAdmin?a({name:"admin"}):n.isDonor?a({name:"donor"}):n.isRecipient?a({name:"recipient"}):a({name:"login"}))}else if(n.isAuthenticated&&("login"===e.name||"register"===e.name||"reset-password"===e.name))return void(n.isAdmin?a({name:"admin"}):n.isDonor?a({name:"donor"}):n.isRecipient?a({name:"recipient"}):a());a()}));const oo=x(Oa);jt.defaults.baseURL="http://localhost:5000",jt.defaults.withCredentials=!0;const uo=L();oo.use(uo),oo.use(io),oo.mount("#app");
